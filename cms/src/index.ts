import fs from 'fs';
import path from 'path';
import { getBrandCatalogData } from './seed/brandsCategories'

/**
 * Helper to create a single Strapi Blocks paragraph.
 */
const makeParagraph = (text: string) => ({
  type: 'paragraph',
  children: [{ type: 'text', text }],
});

/**
 * Strapi Blocks fields must be an array of elements. If legacy data stores plain strings,
 * the admin Slate editor will crash. This helper converts strings to a single paragraph block.
 */
const normalizeBlocksValue = (value: unknown) => {
  if (Array.isArray(value)) return value
  if (typeof value === 'string') {
    const trimmed = value.trim()
    if (!trimmed) return []
    return [makeParagraph(trimmed)]
  }
  return value
}

export default {
  /**
   * An asynchronous register function that runs before
   * your application is initialized.
   *
   * This gives you an opportunity to extend code.
   */
  register(/*{ strapi }*/) {},

  /**
   * An asynchronous bootstrap function that runs before
   * your application gets started.
   *
   * This gives you an opportunity to set up your data model,
   * run jobs, or perform some special logic.
   */
  async bootstrap({ strapi }) {
    // Seed initial content so the frontend can stay identical while becoming editable in CMS.
    // This runs once per DB: it only creates missing entries.

    // Fix-up: during early partner logo migrations we could upload SVGs with wrong metadata,
    // resulting in `unamed_*.bin` (mime: application/octet-stream) without preview in admin.
    // If the file content is actually SVG, convert it to `.svg` and update the DB record.
    try {
      const uploadsDir = path.join(process.cwd(), 'public', 'uploads')
      const maybeBroken = await strapi.db.query('plugin::upload.file').findMany({
        where: { ext: '.bin', mime: 'application/octet-stream' },
        limit: 2000,
      })

      for (const file of maybeBroken) {
        const url: string | undefined = (file as any)?.url
        if (!url || !url.startsWith('/uploads/') || !url.endsWith('.bin')) continue

        const absOld = path.join(process.cwd(), 'public', url.replace(/^\//, ''))
        if (!fs.existsSync(absOld)) continue

        const head = fs.readFileSync(absOld, { encoding: 'utf8' }).slice(0, 512)
        const looksLikeSvg = head.includes('<svg') || head.includes('<?xml') && head.includes('<!DOCTYPE svg')
        if (!looksLikeSvg) continue

        const newUrl = url.replace(/\.bin$/, '.svg')
        const absNew = path.join(process.cwd(), 'public', newUrl.replace(/^\//, ''))

        // Rename file on disk so the URL and extension match.
        if (!fs.existsSync(absNew)) {
          fs.renameSync(absOld, absNew)
        }

        // Update DB record so Strapi serves correct mime/ext and admin can render preview.
        await strapi.db.query('plugin::upload.file').update({
          where: { id: (file as any).id },
          data: {
            ext: '.svg',
            mime: 'image/svg+xml',
            url: newUrl,
          },
        })
      }
    } catch (e) {
      // eslint-disable-next-line no-console
      console.warn('SVG bin fix-up skipped:', (e as any)?.message || e)
    }

    // Fix-up: legacy plain strings accidentally stored in `blocks` fields will crash the admin editor.
    // Convert them to an array of blocks (single paragraph) on startup.
    try {
      // marketing activity page (heroSubtitle, ctaText, sections[].content)
      const maUID = 'api::marketing-activity-page.marketing-activity-page'
      const maDocs = await strapi.documents(maUID).findMany({ status: 'all', populate: '*' })
      for (const doc of maDocs || []) {
        const patch: any = {}

        if (typeof (doc as any).heroSubtitle === 'string') {
          patch.heroSubtitle = normalizeBlocksValue((doc as any).heroSubtitle)
        }
        if (typeof (doc as any).ctaText === 'string') {
          patch.ctaText = normalizeBlocksValue((doc as any).ctaText)
        }
        const sections = (doc as any).sections
        if (Array.isArray(sections)) {
          let changed = false
          const nextSections = sections.map((s: any) => {
            if (!s || typeof s !== 'object') return s
            if (typeof s.content === 'string') {
              changed = true
              return { ...s, content: normalizeBlocksValue(s.content) }
            }
            return s
          })
          if (changed) patch.sections = nextSections
        }

        if (Object.keys(patch).length > 0) {
          await strapi.documents(maUID).update({
            documentId: (doc as any).documentId,
            data: patch,
            status: (doc as any).publishedAt ? 'published' : 'draft',
          })
        }
      }

      // logistics page (warehouseSectionContent)
      const logUID = 'api::logistics-page.logistics-page'
      const logDocs = await strapi.documents(logUID).findMany({ status: 'all', populate: '*' })
      for (const doc of logDocs || []) {
        const cur = (doc as any).warehouseSectionContent
        if (typeof cur === 'string') {
          await strapi.documents(logUID).update({
            documentId: (doc as any).documentId,
            data: { warehouseSectionContent: normalizeBlocksValue(cur) },
            status: (doc as any).publishedAt ? 'published' : 'draft',
          })
        }
      }
    } catch (e) {
      // eslint-disable-next-line no-console
      console.warn('Blocks fix-up skipped:', (e as any)?.message || e)
    }

    // --- LOGISTICS PAGE SEEDING ---
    const logUID = 'api::logistics-page.logistics-page';
    const logData = {
      title: '–õ–æ–≥–∏—Å—Ç–∏–∫–∞ FIT',
      subtitle: '–°–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤–∞—Å',
      heroBadge: '–õ–û–ì–ò–°–¢–ò–ö–ê FIT',
      heroTitle: '–°–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è',
      heroTitleHighlight: '—Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è –≤–∞—Å',
      heroSubtitle: '–õ–æ–≥–∏—Å—Ç–∏–∫–∞ FIT ‚Äî —ç—Ç–æ –æ—Ç–ª–∞–∂–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ—Å—Ç–∞–≤–æ–∫, –∫–æ—Ç–æ—Ä—É—é –º—ã —Å–æ–≤–µ—Ä—à–µ–Ω—Å—Ç–≤—É–µ–º –º–Ω–æ–≥–æ –ª–µ—Ç. –ú—ã –¥–æ—Å—Ç–∞–≤–ª—è–µ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –±—ã—Å—Ç—Ä–æ, –Ω–∞–¥–µ–∂–Ω–æ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º –±–µ—Å–ø–µ—Ä–µ–±–æ–π–Ω—É—é —Ä–∞–±–æ—Ç—É.',
      heroStats: [
        { value: '2', label: '–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω—ã—Ö —Ü–µ–Ω—Ç—Ä–∞', variant: 'default' },
        { value: '7', label: '–°–∫–ª–∞–¥–æ–≤ –∫–ª–∞—Å—Å–∞ –ê', variant: 'highlight' },
        { value: '12k+', label: 'SKU –≤ –Ω–∞–ª–∏—á–∏–∏', variant: 'highlightAlt' },
        { value: '60+', label: '–ï–¥–∏–Ω–∏—Ü —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞', variant: 'default' },
      ],
      warehouseSectionTitle: '–°–∫–ª–∞–¥—Å–∫–∞—è —Å–µ—Ç—å —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–≥–æ –º–∞—Å—à—Ç–∞–±–∞',
      warehouseSectionContent: [
        makeParagraph('–°–∫–ª–∞–¥—ã –∫–ª–∞—Å—Å–∞ –ê —Å –ø–æ–ª–Ω—ã–º –∑–∞–ø–∞—Å–æ–º –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–∞ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ –∫–ª—é—á–µ–≤—ã—Ö –≥–æ—Ä–æ–¥–∞—Ö –†–æ—Å—Å–∏–∏: –ú–æ—Å–∫–≤–∞, –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥, –ö–∞–∑–∞–Ω—å, –í–æ—Ä–æ–Ω–µ–∂, –ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥, –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä, –ü—è—Ç–∏–≥–æ—Ä—Å–∫.'),
        makeParagraph('–û–±—â–∞—è –ø–ª–æ—â–∞–¥—å —Å–∫–ª–∞–¥—Å–∫–∏—Ö –ø–æ–º–µ—â–µ–Ω–∏–π –∫–æ–º–ø–∞–Ω–∏–∏ –ø—Ä–µ–≤—ã—à–∞–µ—Ç 26 000 –º¬≤, –∞ —Ç–æ–≤–∞—Ä–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ –≤–∫–ª—é—á–∞–µ—Ç –±–æ–ª–µ–µ 12 000 SKU. –ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É –º—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –≤—ã—Å–æ–∫—É—é –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –∏ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ –≤—ã–ø–æ–ª–Ω—è–µ–º –æ—Ç–≥—Ä—É–∑–∫–∏ –≤ –ª—é–±–æ–π —Ä–µ–≥–∏–æ–Ω.'),
        makeParagraph('FIT –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–∞—Ä–∫ –∞–≤—Ç–æ—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Å—Ä–æ–∫–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–æ –¥–æ—Å—Ç–∞–≤–∫–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ.'),
      ],
      distributionBadgeNew: 'NEW',
      distributionBadgeText: '–§–ª–∞–≥–º–∞–Ω—Å–∫–∏–π –ø—Ä–æ–µ–∫—Ç',
      distributionTitle: '–ù–æ–≤—ã–π —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω—ã–π —Ü–µ–Ω—Ç—Ä',
      distributionTitleHighlight: '¬´–ü–ù–ö –ë–µ–ª—ã–π –†–∞—Å—Ç¬ª',
      distributionDescription: '–í —Ä–∞–º–∫–∞—Ö —Ä–∞–∑–≤–∏—Ç–∏—è –∫–æ–º–ø–∞–Ω–∏–∏ FIT –æ—Ç–∫—Ä—ã–ª–∞ –Ω–æ–≤—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å–∫–ª–∞–¥—Å–∫–æ–π –∫–æ–º–ø–ª–µ–∫—Å –∫–ª–∞—Å—Å–∞ –ê –Ω–∞ –±–∞–∑–µ –ü–ù–ö ¬´–ë–µ–ª—ã–π –†–∞—Å—Ç¬ª (–†–æ–≥–∞—á—ë–≤—Å–∫–æ–µ —à–æ—Å—Å–µ, 27 –∫–º –æ—Ç –ú–ö–ê–î). –ó–∞–ø—É—Å–∫ —ç—Ç–æ–π –ø–ª–æ—â–∞–¥–∫–∏ –ø–æ–∑–≤–æ–ª–∏–ª —É–≤–µ–ª–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–∞ –≤ –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–º —Ä–µ–≥–∏–æ–Ω–µ –∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ –ø–æ–≤—ã—Å–∏—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏.',
      distributionSpecs: [
        { value: '23 061 –º¬≤', label: '–ü–ª–æ—â–∞–¥—å —É—á–∞—Å—Ç–∫–∞' },
        { value: '11 391 –º¬≤', label: '–ü–ª–æ—â–∞–¥—å –∫–æ—Ä–ø—É—Å–∞' },
        { value: '12 –º', label: '–í—ã—Å–æ—Ç–∞ (6 —É—Ä–æ–≤–Ω–µ–π)' },
        { value: '10 —Ç/–º¬≤', label: '–ù–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –ø–æ–ª' },
      ],
      distributionFeatures: [
        { text: '–ü–æ–∂–∞—Ä–æ—Ç—É—à–µ–Ω–∏–µ ESFR 25' },
        { text: '–≠–Ω–µ—Ä–≥–æ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Ç—É—Ä' },
        { text: '–ù–µ–º–µ—Ü–∫–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã' },
      ],
      wmsCards: [
        {
          icon: 'üì¶',
          iconVariant: 'green',
          title: '–ù–æ–≤—ã–π –ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∏–π —Ü–µ–Ω—Ç—Ä –≤ –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä–µ',
          text: '–Æ–∂–Ω—ã–π —Ä–µ–≥–∏–æ–Ω ‚Äî –æ–¥–∏–Ω –∏–∑ —Å–∞–º—ã—Ö –¥–∏–Ω–∞–º–∏—á–Ω—ã—Ö —Ä—ã–Ω–∫–æ–≤ FIT. –í 2025 –≥–æ–¥—É –º—ã –æ—Ç–∫—Ä—ã–ª–∏ –Ω–æ–≤—ã–π –∫—Ä—É–ø–Ω—ã–π —Å–∫–ª–∞–¥ –≤ –ö—Ä–∞—Å–Ω–æ–¥–∞—Ä–µ, —É—Å–∏–ª–∏–≤ –ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –Ω–∞ —é–≥–µ –†–æ—Å—Å–∏–∏.',
          tags: [{ text: '–°—Ç—Ä–∞—Ç–µ–≥–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –Æ–§–û' }],
        },
        {
          icon: '‚öôÔ∏è',
          iconVariant: 'yellow',
          title: '–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω–æ—Å—Ç—å –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (WMS)',
          text: '–í—Å–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç–µ–ª—å–Ω—ã–µ —Ü–µ–Ω—Ç—Ä—ã FIT —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∫–ª–∞–¥–æ–º, —á—Ç–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å —Å–±–æ—Ä–∫–∏, –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏—é –æ—à–∏–±–æ–∫.',
          tags: [{ text: '–¢–æ—á–Ω–æ—Å—Ç—å —Å–±–æ—Ä–∫–∏' }, { text: '–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å' }],
        },
      ],
      speedTitle: '–°–∫–æ—Ä–æ—Å—Ç—å, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ –æ–ø–∏—Ä–∞—Ç—å—Å—è',
      speedDescription: 'FIT –¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä –±—ã—Å—Ç—Ä–æ, —Ä–µ–≥—É–ª—è—Ä–Ω–æ –∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ. –î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ –ø–æ—Å—Ç–∞–≤–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å.',
      warehouses: [
        { city: '–ú–æ—Å–∫–≤–∞ (–ü–ù–ö –ë–µ–ª—ã–π –†–∞—Å—Ç)', address: '–†–æ–≥–∞—á—ë–≤—Å–∫–æ–µ —à–æ—Å—Å–µ, 27 –∫–º –æ—Ç –ú–ö–ê–î', status: '–†–∞–±–æ—Ç–∞–µ—Ç' },
        { city: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥', address: '–ø—Ä. –û–±—É—Ö–æ–≤—Å–∫–æ–π –û–±–æ—Ä–æ–Ω—ã, 120', status: '–†–∞–±–æ—Ç–∞–µ—Ç' },
        { city: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥', address: '–°–∏–±–∏—Ä—Å–∫–∏–π —Ç—Ä–∞–∫—Ç, 12', status: '–†–∞–±–æ—Ç–∞–µ—Ç' },
        { city: '–ö–∞–∑–∞–Ω—å', address: '—É–ª. –¢–∏—Ö–æ—Ä–µ—Ü–∫–∞—è, 7', status: '–†–∞–±–æ—Ç–∞–µ—Ç' },
        { city: '–í–æ—Ä–æ–Ω–µ–∂', address: '—É–ª. –î–∏–º–∏—Ç—Ä–æ–≤–∞, 148', status: '–†–∞–±–æ—Ç–∞–µ—Ç' },
        { city: '–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä', address: '–£—Ä–∞–ª—å—Å–∫–∞—è —É–ª–∏—Ü–∞, 126', status: '–†–∞–±–æ—Ç–∞–µ—Ç' },
        { city: '–ü—è—Ç–∏–≥–æ—Ä—Å–∫', address: '–ß–µ—Ä–∫–µ—Å—Å–∫–æ–µ —à–æ—Å—Å–µ, 25', status: '–†–∞–±–æ—Ç–∞–µ—Ç' },
      ],
      ctaTitle: '¬´–ú—ã –¥–µ–ª–∞–µ–º –≤—Å—ë, —á—Ç–æ–±—ã –≤–∞—à –±–∏–∑–Ω–µ—Å —Ä–∞–±–æ—Ç–∞–ª –±–µ–∑ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫¬ª',
      ctaText: '–õ–æ–≥–∏—Å—Ç–∏–∫–∞ FIT ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞. –≠—Ç–æ –∫–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞, –∫–æ—Ç–æ—Ä–∞—è –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –º–æ—â–Ω–æ—Å—Ç–∏, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –ª—é–¥–µ–π.',
      ctaButtonText: '–°—Ç–∞—Ç—å –ø–∞—Ä—Ç–Ω—ë—Ä–æ–º',
      ctaButtonUrl: '/contacts',
    };

    try {
      // –í Strapi 5 –∏—Å–ø–æ–ª—å–∑—É–µ–º strapi.documents –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–µ—Ä—Å–∏—è–º–∏.
      // –ò—â–µ–º –ª—é–±–æ–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –¥–æ–∫—É–º–µ–Ω—Ç —ç—Ç–æ–≥–æ —Ç–∏–ø–∞.
      const logEntries = await strapi.documents(logUID).findMany({
        status: 'all',
        populate: '*' 
      });

      const logCurrent = logEntries.length > 0 ? logEntries[0] : null;

      if (!logCurrent) {
        // –°–æ–∑–¥–∞–µ–º –∏ —Å—Ä–∞–∑—É –ø—É–±–ª–∏–∫—É–µ–º, —á—Ç–æ–±—ã —Ñ—Ä–æ–Ω—Ç —É–≤–∏–¥–µ–ª –¥–∞–Ω–Ω—ã–µ
        await strapi.documents(logUID).create({
          data: logData,
          status: 'published'
        });
      } else {
        const patch: any = {};
        // –ï—Å–ª–∏ –ø–æ–ª–µ –ø—É—Å—Ç–æ–µ ‚Äî –±–µ—Ä–µ–º –∏–∑ logData
        for (const [key, value] of Object.entries(logData)) {
          const cur = (logCurrent as any)[key];
          const isEmpty = 
            cur == null || 
            (typeof cur === 'string' && cur.trim().length === 0) ||
            (Array.isArray(cur) && cur.length === 0);
          
          if (isEmpty) {
            patch[key] = value;
          }
        }

        if (Object.keys(patch).length > 0) {
          await strapi.documents(logUID).update({
            documentId: logCurrent.documentId,
            data: patch,
            status: 'published' // –°—Ä–∞–∑—É –≤ –ø–∞–±–ª–∏—à
          });
        } else if (logCurrent.status !== 'published') {
          // –ï—Å–ª–∏ –∫–æ–Ω—Ç–µ–Ω—Ç –µ—Å—Ç—å, –Ω–æ –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω ‚Äî –ø—É–±–ª–∏–∫—É–µ–º
          await strapi.documents(logUID).publish({
            documentId: logCurrent.documentId
          });
        }
      }
    } catch (e) {
      console.warn('Logistics seeding failed:', e.message);
    }

    // --- HONEST SIGN PAGE SEEDING ---
    const hsUID = 'api::honest-sign-page.honest-sign-page';
    const hsData = {
      title: '–ß–µ—Å—Ç–Ω—ã–π –∑–Ω–∞–∫, —É–ø–∞–∫–æ–≤–∫–∞, –≤–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞',
      subtitle:
        '–í FIT –º—ã —É–¥–µ–ª—è–µ–º –æ—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ —Ç–æ–º—É, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç –Ω–∞—à –ø—Ä–æ–¥—É–∫—Ç –∏ –∫–∞–∫ –æ–Ω –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω –ø–æ–∫—É–ø–∞—Ç–µ–ª—é. –í–∏–∑—É–∞–ª—å–Ω–∞—è —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è ‚Äî –Ω–µ –ø—Ä–æ—Å—Ç–æ —ç–ª–µ–º–µ–Ω—Ç —É–∑–Ω–∞–≤–∞–µ–º–æ—Å—Ç–∏, –∞ –≤–∞–∂–Ω–∞—è —á–∞—Å—Ç—å –¥–æ–≤–µ—Ä–∏—è –∫ –±—Ä–µ–Ω–¥—É, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—É –∏ –∫–æ–º–ø–∞–Ω–∏–∏. –ö–∞–∂–¥—ã–π —Ç–æ–≤–∞—Ä –ø—Ä–æ—Ö–æ–¥–∏—Ç –µ–¥–∏–Ω—ã–π —Ü–∏–∫–ª –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è: –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —É–ø–∞–∫–æ–≤–∫–∏ –¥–æ –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ –∏ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å–∫–ª–∞–¥–µ.',
      heroBadge: '–ö–ê–ß–ï–°–¢–í–û –ò –ö–û–ù–¢–†–û–õ–¨',

      identityTitle: '–ï–¥–∏–Ω–∞—è —Ñ–∏—Ä–º–µ–Ω–Ω–∞—è –∞–π–¥–µ–Ω—Ç–∏–∫–∞',
      identityContent: [
        makeParagraph(
          '–í—Å—è –ø—Ä–æ–¥—É–∫—Ü–∏—è FIT –∏ –±—Ä–µ–Ω–¥–æ–≤ –ø–æ—Ä—Ç—Ñ–µ–ª—è –∫–æ–º–ø–∞–Ω–∏–∏ –æ—Ñ–æ—Ä–º–ª—è–µ—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ã–º —Å—Ç–∏–ª–µ–º, –æ–ø–∏—Å–∞–Ω–Ω—ã–º –≤ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ: —É–∑–Ω–∞–≤–∞–µ–º–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞, —Å—Ç—Ä–æ–≥–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏, —á–µ—Ç–∫–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–æ–≥–æ—Ç–∏–ø–æ–≤ –∏ —à—Ä–∏—Ñ—Ç–æ–≤.'
        ),
        makeParagraph(
          '–ë–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É –ø–æ–∫—É–ø–∞—Ç–µ–ª—å –ª–µ–≥–∫–æ –Ω–∞—Ö–æ–¥–∏—Ç –Ω—É–∂–Ω—ã–π —Ç–æ–≤–∞—Ä –Ω–∞ –ø–æ–ª–∫–µ, –∞ –ø–∞—Ä—Ç–Ω–µ—Ä—ã –ø–æ–ª—É—á–∞—é—Ç –ø—Ä–æ–¥—É–∫—Ü–∏—é —Å –µ–¥–∏–Ω—ã–º –≤–∏–∑—É–∞–ª—å–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–º.'
        ),
      ],

      packagingTitle: '–ü—Ä–æ–¥—É–º–∞–Ω–Ω–∞—è —Ñ–∏—Ä–º–µ–Ω–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞',
      packagingIntro: '–£–ø–∞–∫–æ–≤–∫–∞ ‚Äî —á–∞—Å—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∞. –ú—ã —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –µ–µ —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —Ä–µ—à–∞–ª–∞ —Ç—Ä–∏ –∑–∞–¥–∞—á–∏:',
      packagingCards: [
        {
          order: 1,
          badge: '1',
          title: '–ò–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ',
          text: '–ù–∞ —É–ø–∞–∫–æ–≤–∫–µ —Ä–∞–∑–º–µ—â–µ–Ω—ã —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ç–æ–≤–∞—Ä–∞, –æ—Å–Ω–æ–≤–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, –æ–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞. –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–∫—É–ø–∞—Ç–µ–ª—é –±—ã—Å—Ç—Ä–æ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ –ø—Ä–∏–Ω–∏–º–∞—Ç—å —Ä–µ—à–µ–Ω–∏–µ.',
        },
        {
          order: 2,
          badge: '2',
          title: '–ó–∞—â–∏—Ç–∞ —Ç–æ–≤–∞—Ä–∞',
          text: '–ö–æ—Ä–æ–±–∫–∏ –∏ –±–ª–∏—Å—Ç–µ—Ä—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω—ã —Å —É—á–µ—Ç–æ–º –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏. –£–ø–∞–∫–æ–≤–æ—á–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –≤—ã–¥–µ—Ä–∂–∏–≤–∞—é—Ç –ø–æ–≤—ã—à–µ–Ω–Ω—ã–µ –Ω–∞–≥—Ä—É–∑–∫–∏, —á—Ç–æ–±—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω—è–ª –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥ –∏ –≥–µ–æ–º–µ—Ç—Ä–∏—é –¥–æ –º–æ–º–µ–Ω—Ç–∞ –ø—Ä–æ–¥–∞–∂–∏.',
        },
        {
          order: 3,
          badge: '3',
          title: '–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –ø–æ–ª–∫–µ',
          text: '–£–ø–∞–∫–æ–≤–∫–∞ —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å —É—á–µ—Ç–æ–º –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –≤ —Ä–∏—Ç–µ–π–ª–µ –∏ e-com: –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–∞—è —Ü–≤–µ—Ç–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞, —É–¥–æ–±–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å–µ—Ä–∏—è–º, –ø–æ–Ω—è—Ç–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ –≤ –ª–∏–Ω–µ–π–∫–µ.',
        },
      ],
      packagingBrandsNote:
        '–ö–∞–∂–¥—ã–π –±—Ä–µ–Ω–¥ ‚Äî FIT, CUTOP, GREATFLEX, –ö–£–†–°, MOS, Master Color –∏ –¥—Ä. ‚Äî –∏–º–µ–µ—Ç —Å–≤–æ—é –≤–∏–∑—É–∞–ª—å–Ω—É—é –∏–¥–µ–Ω—Ç–∏—á–Ω–æ—Å—Ç—å, –Ω–æ –ø–æ–¥—á–∏–Ω—è–µ—Ç—Å—è –æ–±—â–∏–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç–∏.',

      honestSignTitle: '–ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ ¬´–ß–µ—Å—Ç–Ω—ã–π –ó–ù–ê–ö¬ª',
      honestSignContent:
        '–í—Å–µ —Ç–æ–≤–∞—Ä—ã, –ø–æ–¥–ª–µ–∂–∞—â–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π –º–∞—Ä–∫–∏—Ä–æ–≤–∫–µ, –ø—Ä–æ—Ö–æ–¥—è—Ç –ø—Ä–æ—Ü–µ—Å—Å –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ —Å–∏—Å—Ç–µ–º–µ ¬´–ß–µ—Å—Ç–Ω—ã–π –ó–ù–ê–ö¬ª.',
      honestSignListIntro: '–ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:',
      honestSignBenefits: [
        { text: '–ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è —Ç–æ–≤–∞—Ä–∞ –æ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –¥–æ —Ä–æ–∑–Ω–∏—Ü—ã;' },
        { text: '–∑–∞—â–∏—Ç—É –ø–æ–∫—É–ø–∞—Ç–µ–ª—è –æ—Ç –ø–æ–¥–¥–µ–ª–æ–∫;' },
        { text: '—É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä–∞ –≤ –ª–µ–≥–∞–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç–∏ –æ–±–æ—Ä–æ—Ç–∞ —Ç–æ–≤–∞—Ä–∞.' },
      ],
      honestSignClosing:
        '–ö–∞–∂–¥–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –ø–æ–ª—É—á–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π DataMatrix-–∫–æ–¥ ‚Äî –æ–Ω –Ω–∞–Ω–æ—Å–∏—Ç—Å—è –Ω–∞ —É–ø–∞–∫–æ–≤–∫—É –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –Ω–æ—Ä–º–∞–º–∏ –∑–∞–∫–æ–Ω–∞ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ —Å–∏—Å—Ç–µ–º—ã. –ö–æ–Ω—Ç—Ä–æ–ª—å –º–∞—Ä–∫–∏—Ä–æ–≤–∫–∏ –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è –Ω–∞ —ç—Ç–∞–ø–µ –æ—Ç–≥—Ä—É–∑–∫–∏ —Å–æ —Å–∫–ª–∞–¥–∞.',

      visualMaterialsTitle: '–î–æ—Å—Ç–æ–≤–µ—Ä–Ω—ã–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã',
      visualMaterialsIntro: '–î–ª—è —Å–∞–π—Ç–∞, –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤ –∏ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ –º—ã —Å–æ–∑–¥–∞—ë–º –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤:',
      visualMaterialsItems: [
        { text: '–ø—Ä–µ–¥–º–µ—Ç–Ω—ã–µ —Ñ–æ—Ç–æ, —Å–¥–µ–ª–∞–Ω–Ω—ã–µ –ø–æ –µ–¥–∏–Ω–æ–º—É —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –∑–∞–¥–∞–Ω–∏—é;' },
        { text: '360-–≥—Ä–∞–¥—É—Å–Ω—ã–µ –æ–±–∑–æ—Ä—ã –¥–ª—è e-commerce;' },
        { text: '—Ä–µ–Ω–¥–µ—Ä—ã –∏ –∏–Ω—Ñ–æ–≥—Ä–∞—Ñ–∏–∫—É –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤;' },
        { text: '–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —É–ø–∞–∫–æ–≤–∫–∏;' },
        { text: '—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–∞ –∏ —Å–µ—Ä–∏–π–Ω–æ–≥–æ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è.' },
      ],
      visualMaterialsClosing:
        '–í—Å–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø—Ä–æ—Ö–æ–¥—è—Ç –ø–æ—Å—Ç–æ–±—Ä–∞–±–æ—Ç–∫—É, —Ü–≤–µ—Ç–æ–∫–æ—Ä—Ä–µ–∫—Ü–∏—é –∏ –≤–∏–∑—É–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ñ–∏–∑–∏—á–µ—Å–∫–∏–º –æ–±—Ä–∞–∑—Ü–æ–º ‚Äî —á—Ç–æ–±—ã –∫–ª–∏–µ–Ω—Ç –≤–∏–¥–µ–ª –∏–º–µ–Ω–Ω–æ —Ç–æ, —á—Ç–æ –ø–æ–ª—É—á–∏—Ç.',

      finalTitle: '–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∏ –¥–æ–≤–µ—Ä–∏–µ',
      finalText:
        '–í–∏–∑—É–∞–ª—å–Ω–∞—è —á–∞—Å—Ç—å ‚Äî –≤–∞–∂–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –Ω–∞—à–µ–≥–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞ –æ—Ç–∫—Ä—ã—Ç–æ—Å—Ç–∏. –ü–æ–∫—É–ø–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏ –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–≤–∞—Ä–µ, –∞ –ø–∞—Ä—Ç–Ω–µ—Ä ‚Äî —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Ç–æ–º, —á—Ç–æ –ø—Ä–æ–¥—É–∫—Ç –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –µ–¥–∏–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –±—Ä–µ–Ω–¥–∞.',
    };

    try {
      const hsEntries = await strapi.documents(hsUID).findMany({
        status: 'all',
        populate: '*'
      });

      const hsCurrent = hsEntries.length > 0 ? hsEntries[0] : null;

      if (!hsCurrent) {
        await strapi.documents(hsUID).create({
          data: hsData,
          status: 'published'
        });
      } else {
        const patch: any = {};
        for (const [key, value] of Object.entries(hsData)) {
          const cur = (hsCurrent as any)[key];
          const isEmpty = 
            cur == null || 
            (typeof cur === 'string' && cur.trim().length === 0) ||
            (Array.isArray(cur) && cur.length === 0);
          
          if (isEmpty) patch[key] = value;
        }

        if (Object.keys(patch).length > 0) {
          await strapi.documents(hsUID).update({
            documentId: hsCurrent.documentId,
            data: patch,
            status: 'published'
          });
        } else if (hsCurrent.status !== 'published') {
          await strapi.documents(hsUID).publish({
            documentId: hsCurrent.documentId
          });
        }
      }
    } catch (e) {
      console.warn('Honest Sign seeding failed:', e.message);
    }

    // --- FAQ SEEDING ---
    const faqUID = 'api::faq.faq';
    const faqData = [
      {
        question: '–ö–∞–∫ —Å—Ç–∞—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º FIT?',
        answer: [makeParagraph('–î–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —Å—Ç–∞—Ç—å –ø–∞—Ä—Ç–Ω–µ—Ä–æ–º FIT, —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É –Ω–∞ —Å–∞–π—Ç–µ –∏–ª–∏ –ø–æ–∑–≤–æ–Ω–∏—Ç–µ –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω—É 8 (800) 555-35-35. –ù–∞—à–∏ –º–µ–Ω–µ–¥–∂–µ—Ä—ã —Ä–∞—Å—Å–∫–∞–∂—É—Ç –æ —É—Å–ª–æ–≤–∏—è—Ö –ø–∞—Ä—Ç–Ω–µ—Ä—Å—Ç–≤–∞ –∏ –ø–æ–º–æ–≥—É—Ç —Å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.')],
        order: 1,
        category: 'general'
      },
      {
        question: '–ö–∞–∫–∏–µ –±—Ä–µ–Ω–¥—ã –≤—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç–µ?',
        answer: [makeParagraph('–ú—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ–º 8 —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –±—Ä–µ–Ω–¥–æ–≤: FIT, –ö–£–†–°, CUTOP, MaxPro, MOS, –•–í–ê–¢, Master Color –∏ –ì—Ä–µ–π—Ç—Ñ–ª–µ–∫—Å. –ö–∞–∂–¥—ã–π –±—Ä–µ–Ω–¥ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤ –¥–ª—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ —Ä–µ–º–æ–Ω—Ç–∞.')],
        order: 2,
        category: 'general'
      },
      {
        question: '–ï—Å—Ç—å –ª–∏ –¥–æ—Å—Ç–∞–≤–∫–∞ –≤ —Ä–µ–≥–∏–æ–Ω—ã?',
        answer: [makeParagraph('–î–∞, –º—ã –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ–º –¥–æ—Å—Ç–∞–≤–∫—É –ø–æ –≤—Å–µ–π –†–æ—Å—Å–∏–∏ –±–ª–∞–≥–æ–¥–∞—Ä—è —Ä–∞–∑–≤–∏—Ç–æ–π –ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–µ. –ù–∞—à–∞ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–±–µ—Å–ø–µ—á–∏—Ç—å –±—ã—Å—Ç—Ä—É—é –¥–æ—Å—Ç–∞–≤–∫—É –≤ –ª—é–±–æ–π —Ä–µ–≥–∏–æ–Ω —Å—Ç—Ä–∞–Ω—ã.')],
        order: 3,
        category: 'logistics'
      },
      {
        question: '–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏?',
        answer: [makeParagraph('–ö–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ –¥–≤—É—Ö –Ω–∞—à–∏—Ö —Å–∞–π—Ç–∞—Ö: fit-emarket.ru –¥–ª—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü –∏ fit24.ru –¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü. –¢–∞–º –≤—ã –º–æ–∂–µ—Ç–µ –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å–æ –≤—Å–µ–º –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–æ–º –∏ —Ü–µ–Ω–∞–º–∏.')],
        order: 4,
        category: 'general'
      },
      {
        question: '–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç–µ –ª–∏ –≤—ã —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –Ω–∞ –ø—Ä–æ–¥—É–∫—Ü–∏—é?',
        answer: [makeParagraph('–î–∞, –≤—Å—è –Ω–∞—à–∞ –ø—Ä–æ–¥—É–∫—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–∞ –∏ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ä–æ—Å—Å–∏–π—Å–∫–∏–º –∏ –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –∫–∞—á–µ—Å—Ç–≤–∞. –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –ø–æ –∑–∞–ø—Ä–æ—Å—É.')],
        order: 5,
        category: 'products'
      },
      {
        question: '–ö–∞–∫–∏–µ —É—Å–ª–æ–≤–∏—è –¥–ª—è –æ–ø—Ç–æ–≤—ã—Ö –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π?',
        answer: [makeParagraph('–î–ª—è –æ–ø—Ç–æ–≤—ã—Ö –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π –¥–µ–π—Å—Ç–≤—É—é—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —É—Å–ª–æ–≤–∏—è –∏ —Å–∫–∏–¥–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –æ–±—ä–µ–º–∞ –∑–∞–∫—É–ø–æ–∫. –°–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞—à–∏–º –æ—Ç–¥–µ–ª–æ–º –ø—Ä–æ–¥–∞–∂ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–≥–æ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è.')],
        order: 6,
        category: 'general'
      },
      {
        question: '–ö–∞–∫ –¥–æ–ª–≥–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ–º–ø–∞–Ω–∏—è FIT?',
        answer: [makeParagraph('–ö–æ–º–ø–∞–Ω–∏—è FIT —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ä—ã–Ω–∫–µ —Å 1996 –≥–æ–¥–∞. –ó–∞ —ç—Ç–æ –≤—Ä–µ–º—è –º—ã —Å—Ç–∞–ª–∏ –æ–¥–Ω–∏–º –∏–∑ –≤–µ–¥—É—â–∏—Ö B2B –¥–∏—Å—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–≤ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –≤ –†–æ—Å—Å–∏–∏.')],
        order: 7,
        category: 'company'
      },
      {
        question: '–ï—Å—Ç—å –ª–∏ —É –≤–∞—Å —Ä–æ–∑–Ω–∏—á–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã?',
        answer: [makeParagraph('–ú—ã —è–≤–ª—è–µ–º—Å—è B2B –¥–∏—Å—Ç—Ä–∏–±—å—é—Ç–æ—Ä–æ–º –∏ —Ä–∞–±–æ—Ç–∞–µ–º —Å –∫—Ä—É–ø–Ω–µ–π—à–∏–º–∏ —Ä–æ–∑–Ω–∏—á–Ω—ã–º–∏ —Å–µ—Ç—è–º–∏ –†–æ—Å—Å–∏–∏. –ù–∞—à—É –ø—Ä–æ–¥—É–∫—Ü–∏—é –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –≤ –º–∞–≥–∞–∑–∏–Ω–∞—Ö –Ω–∞—à–∏—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –ø–æ –≤—Å–µ–π —Å—Ç—Ä–∞–Ω–µ.')],
        order: 8,
        category: 'company'
      }
    ];

    for (const item of faqData) {
      const existing = await strapi.db.query(faqUID).findOne({ where: { question: item.question } });
      if (!existing) {
        await strapi.documents(faqUID).create({
          data: { ...item, publishedAt: new Date() },
          status: 'published'
        });
      } else {
        // If answer is empty, patch it
        const curAnswer = (existing as any).answer;
        if (!curAnswer || (Array.isArray(curAnswer) && curAnswer.length === 0)) {
          await strapi.documents(faqUID).update({
            documentId: existing.documentId,
            data: { answer: item.answer },
            status: 'published'
          });
        }
      }
    }

    // --- PRODUCT ARTICLES SEEDING ---
    const articleUID = 'api::product-article.product-article';
    const articles = [
      {
        slug: 'obzor-fit',
        title: '–û–±—â–∏–π –æ–±–∑–æ—Ä –ø—Ä–æ–¥—É–∫—Ü–∏–∏ FIT',
        excerpt: '–§–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ FIT –æ—Å–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Ç–æ–º, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—é –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ, —É–¥–æ–±–Ω—ã–µ, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –ø–æ –¥–æ—Å—Ç—É–ø–Ω—ã–º —Ü–µ–Ω–∞–º.',
        category: 'other',
        publishedDate: '2024-12-15',
        content: [
          { type: 'heading', level: 1, children: [{ type: 'text', text: '–û–±—â–∏–π –æ–±–∑–æ—Ä –ø—Ä–æ–¥—É–∫—Ü–∏–∏ FIT' }] },
          makeParagraph('–ü—Ä–æ–¥—É–∫—Ü–∏—è FIT —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–Ω–∞, –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –æ—Å–æ–±—ã–º —É–¥–æ–±—Å—Ç–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –∑–∞–ø–æ–º–∏–Ω–∞—é—â–∏–º—Å—è –¥–∏–∑–∞–π–Ω–æ–º. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç FIT –æ—Ç–ª–∏—á–Ω–æ –∑–∞—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–ª —Å–µ–±—è —Å –ø–æ–∑–∏—Ü–∏–∏ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ –∏ –Ω–µ–≤—ã—Å–æ–∫–æ–π —Ü–µ–Ω—ã.'),
          { type: 'heading', level: 2, children: [{ type: 'text', text: '–§–∏–ª–æ—Å–æ—Ñ–∏—è –±—Ä–µ–Ω–¥–∞' }] },
          makeParagraph('–§–∏–ª–æ—Å–æ—Ñ–∏—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ FIT –æ—Å–Ω–æ–≤—ã–≤–∞–µ—Ç—Å—è –Ω–∞ —Ç–æ–º, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—é –∫–∞–∫ –º–æ–∂–Ω–æ –±–æ–ª–µ–µ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ, —É–¥–æ–±–Ω—ã–µ, —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞, —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–∏ —ç—Ç–æ–º –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–ª—è —Ä–æ—Å—Å–∏–π—Å–∫–æ–≥–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è —Ü–µ–Ω—ã.'),
          { type: 'heading', level: 2, children: [{ type: 'text', text: '–ê—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç –ø—Ä–æ–¥—É–∫—Ü–∏–∏ FIT' }] },
          makeParagraph('–ê—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç FIT –≤–∫–ª—é—á–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ –≤–∏–¥—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞:'),
          { type: 'list', format: 'unordered', children: [
            { type: 'list-item', children: [{ type: 'text', text: '–°–∞–¥–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', bold: true }] },
            { type: 'list-item', children: [{ type: 'text', text: '–≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', bold: true }] },
            { type: 'list-item', children: [{ type: 'text', text: '–ü–Ω–µ–≤–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', bold: true }] },
            { type: 'list-item', children: [{ type: 'text', text: '–°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', bold: true }] },
            { type: 'list-item', children: [{ type: 'text', text: '–†—É—á–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', bold: true }] },
          ]}
        ]
      },
      {
        slug: 'elektroinstrument-fit',
        title: '–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç FIT: –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å',
        excerpt: '–õ–∏–Ω–µ–π–∫–∞ —ç–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ FIT —Å–æ—á–µ—Ç–∞–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –≤—ã—Å–æ–∫—É—é –º–æ—â–Ω–æ—Å—Ç—å –∏ –¥–æ—Å—Ç—É–ø–Ω—É—é —Ü–µ–Ω—É, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á.',
        category: 'tools',
        publishedDate: '2024-12-10',
        content: [
          { type: 'heading', level: 1, children: [{ type: 'text', text: '–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç FIT: –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å' }] },
          makeParagraph('–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç FIT —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω —Å —É—á—ë—Ç–æ–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –∏ —Ä–µ–º–æ–Ω—Ç–∞.'),
          { type: 'heading', level: 2, children: [{ type: 'text', text: '–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —ç–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ FIT' }] },
          { type: 'heading', level: 3, children: [{ type: 'text', text: '–ú–æ—â–Ω–æ—Å—Ç—å –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å' }] },
          makeParagraph('–í—Å–µ –º–æ–¥–µ–ª–∏ —ç–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ FIT –æ—Å–Ω–∞—â–µ–Ω—ã –º–æ—â–Ω—ã–º–∏ –¥–≤–∏–≥–∞—Ç–µ–ª—è–º–∏, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–∏–º–∏:'),
          { type: 'list', format: 'unordered', children: [
            { type: 'list-item', children: [{ type: 'text', text: '–í—ã—Å–æ–∫—É—é —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã' }] },
            { type: 'list-item', children: [{ type: 'text', text: '–°—Ç–∞–±–∏–ª—å–Ω—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å' }] },
            { type: 'list-item', children: [{ type: 'text', text: '–î–æ–ª–≥–∏–π —Å—Ä–æ–∫ —Å–ª—É–∂–±—ã' }] },
          ]}
        ]
      },
      {
        slug: 'ruchnoy-instrument-fit',
        title: '–†—É—á–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç FIT: –∫–∞—á–µ—Å—Ç–≤–æ –≤ –∫–∞–∂–¥–æ–π –¥–µ—Ç–∞–ª–∏',
        excerpt: '–†—É—á–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç FIT –∏–∑–≥–æ—Ç–æ–≤–ª–µ–Ω –∏–∑ –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏ –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è –ø—Ä–æ–¥—É–º–∞–Ω–Ω–æ–π —ç—Ä–≥–æ–Ω–æ–º–∏–∫–æ–π –¥–ª—è –∫–æ–º—Ñ–æ—Ä—Ç–Ω–æ–π –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–±–æ—Ç—ã.',
        category: 'other',
        publishedDate: '2024-12-05',
        content: [
          { type: 'heading', level: 1, children: [{ type: 'text', text: '–†—É—á–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç FIT: –∫–∞—á–µ—Å—Ç–≤–æ –≤ –∫–∞–∂–¥–æ–π –¥–µ—Ç–∞–ª–∏' }] },
          makeParagraph('–†—É—á–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç ‚Äî –æ—Å–Ω–æ–≤–∞ –ª—é–±–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –¥–ª—è —Ä–µ–º–æ–Ω—Ç–∞ –∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞.'),
          { type: 'heading', level: 2, children: [{ type: 'text', text: '–ö–∞—á–µ—Å—Ç–≤–æ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤' }] },
          { type: 'heading', level: 3, children: [{ type: 'text', text: '–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞–ª—å' }] },
          { type: 'list', format: 'unordered', children: [
            { type: 'list-item', children: [{ type: 'text', text: '–í—ã—Å–æ–∫–∞—è –ø—Ä–æ—á–Ω–æ—Å—Ç—å' }] },
            { type: 'list-item', children: [{ type: 'text', text: '–£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ –∏–∑–Ω–æ—Å—É' }] },
            { type: 'list-item', children: [{ type: 'text', text: '–î–æ–ª–≥–∏–π —Å—Ä–æ–∫ —Å–ª—É–∂–±—ã' }] },
          ]}
        ]
      }
    ];

    for (const item of articles) {
      const existing = await strapi.db.query(articleUID).findOne({ where: { slug: item.slug } });
      if (!existing) {
        await strapi.documents(articleUID).create({
          data: { ...item, publishedAt: new Date() },
          status: 'published'
        });
      } else {
        const curContent = (existing as any).content;
        if (!curContent || (Array.isArray(curContent) && curContent.length === 0)) {
          await strapi.documents(articleUID).update({
            documentId: existing.documentId,
            data: { content: item.content },
            status: 'published'
          });
        }
      }
    }

    // --- HOME PAGE (CLIENT SERVICE) SEEDING ---
    const homeUID = 'api::home-page.home-page';
    const homeData = {
      title: '–ì–ª–∞–≤–Ω–∞—è (–∫–æ–Ω—Ç–µ–Ω—Ç)',
      clientServiceTitle: '–ö–õ–ò–ï–ù–¢–°–ö–ò–ô –°–ï–†–í–ò–°',
      clientServiceSubtitle: [
        makeParagraph(
          '–ö–æ–º–ø–∞–Ω–∏—è FIT –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Å–ø–µ–∫—Ç—Ä —É—Å–ª—É–≥ –¥–ª—è –Ω–∞—à–∏—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤ –∏ –∫–ª–∏–µ–Ω—Ç–æ–≤. –ú—ã —Å—Ç—Ä–µ–º–∏–º—Å—è —Å–¥–µ–ª–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤—ã–≥–æ–¥–Ω—ã–º –∏ —É–¥–æ–±–Ω—ã–º –¥–ª—è –≤–∞—Å.'
        ),
      ],
      clientServiceCards: [
        {
          order: 1,
          iconName: 'dashboard',
          title: '–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç',
          frontText: '–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç —Å –¥–æ—Å—Ç—É–ø–æ–º 24/7',
          backText: [
            makeParagraph(
              '–ö–æ–º–ø–∞–Ω–∏—è FIT –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞–º –¥–æ—Å—Ç—É–ø –≤ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç. –í –Ω–µ–º –º–æ–∂–Ω–æ –∑–∞–∫–∞–∑—ã–≤–∞—Ç—å —Ç–æ–≤–∞—Ä, –¥–µ–ª–∞—Ç—å –≤–æ–∑–≤—Ä–∞—Ç—ã, –≤–µ—Å—Ç–∏ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç. –°–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ 24/7.'
            ),
          ],
        },
        {
          order: 2,
          iconName: 'monitor',
          title: '–¢–æ—Ä–≥–æ–≤–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ',
          frontText: '–ì–æ—Ç–æ–≤—ã–µ —Å—Ç–µ–Ω–¥—ã –¥–ª—è –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞',
          backText: [
            makeParagraph(
              '–ö–æ–º–ø–∞–Ω–∏—è FIT –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è —Å —Ç–æ—Ä–≥–æ–≤—ã–º –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ–º. –í–∞–º –Ω–µ –Ω—É–∂–Ω–æ —Ç—Ä–∞—Ç–∏—Ç—å—Å—è –Ω–∞ –¥–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏–µ —Å—Ç–µ–Ω–¥—ã. –ú—ã —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∏ –∏–∑–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ–º —Ç–æ—Ä–≥–æ–≤–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –Ω–∞–∏–ª—É—á—à–∏–º –æ–±—Ä–∞–∑–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç –Ω–∞—à—É –ø—Ä–æ–¥—É–∫—Ü–∏—é.'
            ),
          ],
        },
        {
          order: 3,
          iconName: 'user',
          title: '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä',
          frontText: '–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –∫–ª–∏–µ–Ω—Ç—É',
          backText: [
            makeParagraph(
              '–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π –∫–≤–∞–ª–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –≤—ã–±—Ä–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–π –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç, —Ä–∞—Å—Å–∫–∞–∂–µ—Ç –æ –Ω–æ–≤–∏–Ω–∫–∞—Ö –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è—Ö, –æ–±–µ—Å–ø–µ—á–∏—Ç –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é —Å–≤—è–∑—å –º–µ–∂–¥—É –≤–∞–º–∏ –∏ –∫–æ–º–ø–∞–Ω–∏–µ–π.'
            ),
          ],
        },
        {
          order: 4,
          iconName: 'zap',
          title: '–†–µ–∫–ª–∞–º–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è',
          frontText: '–í—ã–≥–æ–¥–Ω—ã–µ –∞–∫—Ü–∏–∏ –¥–ª—è –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤',
          backText: [
            makeParagraph(
              '–ù–∞ —Å–∏—Å—Ç–µ–º–Ω–æ–π –æ—Å–Ω–æ–≤–µ –∫–æ–º–ø–∞–Ω–∏—è FIT –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ä–µ–∫–ª–∞–º–Ω—ã–µ –∞–∫—Ü–∏–∏ –¥–ª—è —Å–≤–æ–∏—Ö –ø–∞—Ä—Ç–Ω–µ—Ä–æ–≤. –ú—ã —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç —É–≤–µ–ª–∏—á–∏—Ç—å –ø—Ä–æ–¥–∞–∂–∏ –∏ –ø—Ä–∏–≤–ª–µ—á—å –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.'
            ),
          ],
        },
        {
          order: 5,
          iconName: 'flag',
          title: '–ü—Ä–æ–º–æ–∞–∫—Ü–∏–∏',
          frontText: '–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –ø–æ–¥ –∫–ª—é—á',
          backText: [
            makeParagraph(
              '–ö–æ–º–ø–∞–Ω–∏—è FIT –æ—Ä–≥–∞–Ω–∏–∑—É–µ—Ç –ø—Ä–æ–º–æ–∞–∫—Ü–∏–∏ –≤ –≤–∞—à–∏—Ö —Ç–æ—Ä–≥–æ–≤—ã—Ö —Ç–æ—á–∫–∞—Ö. FIT –±–µ—Ä–µ—Ç –Ω–∞ —Å–µ–±—è –≤—Å–µ —ç—Ç–∞–ø—ã –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏: –æ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è –¥–æ –ø–æ–ª–Ω–æ–≥–æ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è. –í—ã–≥–æ–¥—ã: —Ä–æ—Å—Ç –ø—Ä–æ–¥–∞–∂, –ø—Ä–∏–≤–ª–µ—á–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–æ–≤, –ª–æ—è–ª—å–Ω–æ—Å—Ç—å –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π.'
            ),
          ],
        },
        {
          order: 6,
          iconName: 'truck',
          title: '–õ–æ–≥–∏—Å—Ç–∏–∫–∞',
          frontText: '–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∏ —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞',
          backText: [
            makeParagraph(
              '–°–æ–±—Å—Ç–≤–µ–Ω–Ω–∞—è –¥–æ—Å—Ç–∞–≤–∫–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω–æ –Ω–∞ —Ä–µ–≥—É–ª—è—Ä–Ω–æ–π –æ—Å–Ω–æ–≤–µ –∏ –≤ –∫—Ä–∞—Ç—á–∞–π—à–∏–µ —Å—Ä–æ–∫–∏ –¥–æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç–æ–≤–∞—Ä –¥–æ –∫–ª–∏–µ–Ω—Ç–∞. –ú—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å –∏ —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –ø–æ—Å—Ç–∞–≤–æ–∫ –±–ª–∞–≥–æ–¥–∞—Ä—è —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–º—É –∞–≤—Ç–æ–ø–∞—Ä–∫—É.'
            ),
          ],
        },
        {
          order: 7,
          iconName: 'settings',
          title: '–°–µ—Ä–≤–∏—Å–Ω—ã–µ —Ü–µ–Ω—Ç—Ä—ã',
          frontText: '–ì–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ',
          backText: [
            makeParagraph(
              '–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–µ —Ü–µ–Ω—Ç—Ä—ã –ø–æ –≥–∞—Ä–∞–Ω—Ç–∏–π–Ω–æ–º—É —Ä–µ–º–æ–Ω—Ç—É —Å–æ 100% –∑–∞–º–µ–Ω–æ–π –Ω–∞ –Ω–æ–≤—ã–π —Ç–æ–≤–∞—Ä –ø—Ä–∏ –≥–∞—Ä–∞–Ω—Ç–∏–π–Ω–æ–º —Å–ª—É—á–∞–µ. –ù–∞—à–∞ —Å–µ—Ç—å —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö —Ü–µ–Ω—Ç—Ä–æ–≤ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∫–ª—é—á–µ–≤—ã–µ —Ä–µ–≥–∏–æ–Ω—ã —Å—Ç—Ä–∞–Ω—ã –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±—ã—Å—Ç—Ä–æ–µ –∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ.'
            ),
          ],
        },
        {
          order: 8,
          iconName: 'social',
          title: '–û–Ω–ª–∞–π–Ω-–ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ',
          frontText: '–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö',
          backText: [
            makeParagraph(
              '–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ –Ω–∞—à–∏–º —Å–æ—Ü–∏–∞–ª—å–Ω—ã–º —Å–µ—Ç—è–º, —á—Ç–æ–±—ã –≤—Å–µ–≥–¥–∞ –±—ã—Ç—å –≤ –∫—É—Ä—Å–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π, –Ω–æ–≤–∏–Ω–æ–∫, –≤–∏–¥–µ–æ–æ–±–∑–æ—Ä–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –∏ –ø—Ä–æ—Å—Ç–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤ –ø—Ä–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ, —Ä–µ–º–æ–Ω—Ç –∏ DIY.'
            ),
          ],
        },
      ],
    };

    try {
      const existing = await strapi.documents(homeUID).findMany({ status: 'all', populate: '*' });
      const scoreHome = (doc: any) => {
        const updatedAt = Date.parse(doc?.updatedAt || '') || 0;
        const hasTitle = typeof doc?.clientServiceTitle === 'string' && doc.clientServiceTitle.trim().length > 0;
        const hasSubtitle = Array.isArray(doc?.clientServiceSubtitle) && doc.clientServiceSubtitle.length > 0;
        const hasCards = Array.isArray(doc?.clientServiceCards) && doc.clientServiceCards.length > 0;
        const bonus = (hasTitle ? 1000000000 : 0) + (hasSubtitle ? 1000000000 : 0) + (hasCards ? 1000000000 : 0);
        return updatedAt + bonus;
      };

      const current = (existing || []).slice().sort((a: any, b: any) => scoreHome(b) - scoreHome(a))[0] || null;

      if (!current) {
        await strapi.documents(homeUID).create({
          data: { ...homeData, publishedAt: new Date() },
          status: 'published',
        });
      } else {
        const patch: any = {};
        if (!current.title || (typeof current.title === 'string' && current.title.trim().length === 0)) {
          patch.title = homeData.title;
        }
        if (
          !current.clientServiceTitle ||
          (typeof current.clientServiceTitle === 'string' && current.clientServiceTitle.trim().length === 0)
        ) {
          patch.clientServiceTitle = homeData.clientServiceTitle;
        }
        if (!Array.isArray(current.clientServiceSubtitle) || current.clientServiceSubtitle.length === 0) {
          patch.clientServiceSubtitle = homeData.clientServiceSubtitle;
        }
        if (!Array.isArray(current.clientServiceCards) || current.clientServiceCards.length === 0) {
          patch.clientServiceCards = homeData.clientServiceCards;
        }
        if (Object.keys(patch).length > 0) {
          await strapi.documents(homeUID).update({
            documentId: current.documentId,
            data: patch,
            status: 'published',
          });
        } else if (!current.publishedAt) {
          await strapi.documents(homeUID).update({
            documentId: current.documentId,
            data: { publishedAt: new Date(), title: current.title || homeData.title },
            status: 'published',
          });
        }
      }
    } catch (e) {
      // eslint-disable-next-line no-console
      console.warn('Home page seeding skipped:', (e as any)?.message || e);
    }

    // --- BRANCH CONTACTS (GEOGRAPHY) SEEDING ---
    const branchUID = 'api::branch-contact.branch-contact';
    const branchData = [
      {
        order: 1,
        cityId: 'moskva',
        cityName: '–ú–æ—Å–∫–≤–∞',
        regionCode: 'RU-MOW',
        phone: '8 (800) 511-12-33',
        email: 'info@instrument-fit.ru',
        address: '–ú–æ—Å–∫–≤–∞, –†–æ—Å—Å–∏—è',
        directorName: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä (—É—Ç–æ—á–Ω—è–µ—Ç—Å—è)',
        directorTitle: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä —Ñ–∏–ª–∏–∞–ª–∞',
        isActive: true,
      },
      {
        order: 2,
        cityId: 'spb',
        cityName: '–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥',
        regionCode: 'RU-SPE',
        phone: '8 (800) 511-12-33',
        email: 'info@instrument-fit.ru',
        address: '–ø—Ä. –û–±—É—Ö–æ–≤—Å–∫–æ–π –û–±–æ—Ä–æ–Ω—ã, 120',
        directorName: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä (—É—Ç–æ—á–Ω—è–µ—Ç—Å—è)',
        directorTitle: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä —Ñ–∏–ª–∏–∞–ª–∞',
        isActive: true,
      },
      {
        order: 3,
        cityId: 'voronezh',
        cityName: '–í–æ—Ä–æ–Ω–µ–∂',
        regionCode: 'RU-VOR',
        phone: '8 (800) 511-12-33',
        email: 'info@instrument-fit.ru',
        address: '—É–ª. –î–∏–º–∏—Ç—Ä–æ–≤–∞, 148',
        directorName: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä (—É—Ç–æ—á–Ω—è–µ—Ç—Å—è)',
        directorTitle: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä —Ñ–∏–ª–∏–∞–ª–∞',
        isActive: true,
      },
      {
        order: 4,
        cityId: 'nizhniy_novgorod',
        cityName: '–ù–∏–∂–Ω–∏–π –ù–æ–≤–≥–æ—Ä–æ–¥',
        regionCode: 'RU-NIZ',
        phone: '8 (800) 511-12-33',
        email: 'info@instrument-fit.ru',
        address: '–ê–¥—Ä–µ—Å —Ñ–∏–ª–∏–∞–ª–∞ (—É—Ç–æ—á–Ω—è–µ—Ç—Å—è)',
        directorName: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä (—É—Ç–æ—á–Ω—è–µ—Ç—Å—è)',
        directorTitle: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä —Ñ–∏–ª–∏–∞–ª–∞',
        isActive: true,
      },
      {
        order: 5,
        cityId: 'kazan',
        cityName: '–ö–∞–∑–∞–Ω—å',
        regionCode: 'RU-TA',
        phone: '8 (800) 511-12-33',
        email: 'info@instrument-fit.ru',
        address: '—É–ª. –¢–∏—Ö–æ—Ä–µ—Ü–∫–∞—è, 7',
        directorName: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä (—É—Ç–æ—á–Ω—è–µ—Ç—Å—è)',
        directorTitle: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä —Ñ–∏–ª–∏–∞–ª–∞',
        isActive: true,
      },
      {
        order: 6,
        cityId: 'ekaterinburg',
        cityName: '–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥',
        regionCode: 'RU-SVE',
        phone: '8 (800) 511-12-33',
        email: 'info@instrument-fit.ru',
        address: '–°–∏–±–∏—Ä—Å–∫–∏–π —Ç—Ä–∞–∫—Ç, 12',
        directorName: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä (—É—Ç–æ—á–Ω—è–µ—Ç—Å—è)',
        directorTitle: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä —Ñ–∏–ª–∏–∞–ª–∞',
        isActive: true,
      },
      {
        order: 7,
        cityId: 'pyatigorsk',
        cityName: '–ü—è—Ç–∏–≥–æ—Ä—Å–∫',
        regionCode: 'RU-KB',
        phone: '8 (800) 511-12-33',
        email: 'info@instrument-fit.ru',
        address: '–ß–µ—Ä–∫–µ—Å—Å–∫–æ–µ —à–æ—Å—Å–µ, 25',
        directorName: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä (—É—Ç–æ—á–Ω—è–µ—Ç—Å—è)',
        directorTitle: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä —Ñ–∏–ª–∏–∞–ª–∞',
        isActive: true,
      },
      {
        order: 8,
        cityId: 'arkhangelsk',
        cityName: '–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫',
        regionCode: 'RU-ARK',
        phone: '8 (800) 511-12-33',
        email: 'info@instrument-fit.ru',
        address: '–ê–¥—Ä–µ—Å —Ñ–∏–ª–∏–∞–ª–∞ (—É—Ç–æ—á–Ω—è–µ—Ç—Å—è)',
        directorName: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä (—É—Ç–æ—á–Ω—è–µ—Ç—Å—è)',
        directorTitle: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä —Ñ–∏–ª–∏–∞–ª–∞',
        isActive: true,
      },
      {
        order: 9,
        cityId: 'krasnodar',
        cityName: '–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä',
        regionCode: 'RU-KDA',
        phone: '8 (800) 511-12-33',
        email: 'info@instrument-fit.ru',
        address: '–£—Ä–∞–ª—å—Å–∫–∞—è —É–ª–∏—Ü–∞, 126',
        directorName: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä (—É—Ç–æ—á–Ω—è–µ—Ç—Å—è)',
        directorTitle: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä —Ñ–∏–ª–∏–∞–ª–∞',
        isActive: true,
      },
      {
        order: 10,
        cityId: 'rostov_na_donu',
        cityName: '–†–æ—Å—Ç–æ–≤-–Ω–∞-–î–æ–Ω—É',
        regionCode: 'RU-ROS',
        phone: '8 (800) 511-12-33',
        email: 'info@instrument-fit.ru',
        address: '–ê–¥—Ä–µ—Å —Ñ–∏–ª–∏–∞–ª–∞ (—É—Ç–æ—á–Ω—è–µ—Ç—Å—è)',
        directorName: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä (—É—Ç–æ—á–Ω—è–µ—Ç—Å—è)',
        directorTitle: '–ö–æ–º–º–µ—Ä—á–µ—Å–∫–∏–π –¥–∏—Ä–µ–∫—Ç–æ—Ä —Ñ–∏–ª–∏–∞–ª–∞',
        isActive: true,
      },
    ];

    try {
      for (const item of branchData) {
        const existing = await strapi.db.query(branchUID).findOne({ where: { cityId: item.cityId } });
        if (!existing) {
          await strapi.documents(branchUID).create({
            data: { ...item, publishedAt: new Date() },
            status: 'published',
          });
        } else {
          const patch: any = {};
          for (const [k, v] of Object.entries(item)) {
            const cur = (existing as any)[k];
            const isEmptyString = typeof cur === 'string' && cur.trim().length === 0;
            if (cur == null || isEmptyString) patch[k] = v;
          }
          if (Object.keys(patch).length > 0) {
            await strapi.documents(branchUID).update({
              documentId: (existing as any).documentId,
              data: patch,
              status: 'published',
            });
          }
        }
      }
    } catch (e) {
      // eslint-disable-next-line no-console
      console.warn('Branch contacts seeding skipped:', (e as any)?.message || e);
    }

    // --- BRANDS (BRAND PAGES) SEEDING ---
    const brandUID = 'api::brand.brand'
    const defaultCatalogB2cUrl = 'https://fit-emarket.ru'
    const defaultCatalogB2bUrl = 'https://fit24.ru'

    const brandSeed = [
      {
        brandId: 'fit',
        displayName: 'FIT',
        navSubtitle: '–û—Å–Ω–æ–≤–Ω–æ–π –±—Ä–µ–Ω–¥',
        description:
          '–ü–æ—è–≤–ª–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤–æ–π –º–∞—Ä–∫–∏ –≤ 2003 –≥–æ–¥—É –¥–∞–ª–æ –º–æ—â–Ω—ã–π –∏–º–ø—É–ª—å—Å —Ä–∞–∑–≤–∏—Ç–∏—é –∫–æ–º–ø–∞–Ω–∏–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏–ª–æ —É—Å—Ç–æ–π—á–∏–≤—ã–π —Ä–æ—Å—Ç –ø—Ä–æ–¥–∞–∂. FIT ‚Äì —ç—Ç–æ –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Å–æ—á–µ—Ç–∞–Ω–∏–µ —Ü–µ–Ω—ã –∏ –∫–∞—á–µ—Å—Ç–≤–∞. –ù–∞—à –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç ‚Äî —ç—Ç–æ –µ–¥–∏–Ω–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ —Ä–µ—à–µ–Ω–∏–π: –æ—Ç —Ä—É—á–Ω–æ–≥–æ –∏ —ç–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–æ –æ—Å–Ω–∞—Å—Ç–∫–∏, –∫—Ä–µ–ø–µ–∂–∞ –∏ —Å–∏—Å—Ç–µ–º —Ö—Ä–∞–Ω–µ–Ω–∏—è. –¢–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–µ—à–∞—Ç—å –ª—é–±—ã–µ –∑–∞–¥–∞—á–∏ ‚Äî –æ—Ç –º–∞—Å—à—Ç–∞–±–Ω–æ–≥–æ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –¥–æ —Ç–æ—á–µ—á–Ω–æ–≥–æ —Ä–µ–º–æ–Ω—Ç–∞.',
        primaryColor: '#FDB913',
        parallaxBgColor: '#004A4E',
        parallaxFgColor: '#002F3A',
        catalogB2cUrl: defaultCatalogB2cUrl,
        catalogB2bUrl: defaultCatalogB2bUrl,
        popularProducts: [
          { order: 1, name: '–î—Ä–µ–ª—å-–®—É—Ä—É–ø–æ–≤–µ—Ä—Ç –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–Ω–∞—è', article: '79905', category: '–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '3 828.00 ‚ÇΩ' },
          { order: 2, name: '–ü–µ—Ä—Ñ–æ—Ä–∞—Ç–æ—Ä –º–æ–Ω—Ç–∞–∂–Ω—ã–π –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–Ω—ã–π', article: '79910', category: '–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '11 880.00 ‚ÇΩ' },
          { order: 3, name: '–®–ª–∏—Ñ–º–∞—à–∏–Ω–∞ —É–≥–ª–æ–≤–∞—è –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–Ω–∞—è', article: '79912', category: '–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '6 220.00 ‚ÇΩ' },
          { order: 4, name: '–ü–∏–ª–∞ –¥–∏—Å–∫–æ–≤–∞—è —Ü–∏—Ä–∫—É–ª—è—Ä–Ω–∞—è', article: '79920', category: '–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '7 425.00 ‚ÇΩ' }
        ]
      },
      {
        brandId: 'cutop',
        displayName: 'CUTOP',
        navSubtitle: '–†–µ–∂—É—â–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç',
        description:
          '–ü—Ä–æ–¥—É–∫—Ü–∏—è –±—Ä–µ–Ω–¥–∞ ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∏ –ø—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è –æ—Å–Ω–∞—Å—Ç–∫–∞ –¥–ª—è —ç–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞. –ë—Ä–µ–Ω–¥ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–∞–º—ã–µ –ø–µ—Ä–µ–¥–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –∏  –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤—ã—Å–æ–∫–∏–º–∏ –Ω–∞–≥—Ä—É–∑–∫–∞–º–∏ –∏ —Å–≤–µ—Ä—Ö—Ç–≤–µ—Ä–¥—ã–º–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏. –ü—Ä–æ–¥—É–∫—Ü–∏—è CUTOP –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Ç–æ—á–Ω–æ—Å—Ç—å, —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á.',
        primaryColor: '#2A4998',
        buttonTextColor: '#FFFFFF',
        parallaxBgColor: '#2A4998',
        parallaxFgColor: '#FFFFFF',
        catalogB2cUrl: defaultCatalogB2cUrl,
        catalogB2bUrl: defaultCatalogB2bUrl,
        popularProducts: [
          { order: 1, name: '–®–£–†–£–ü–û–í–ï–†–¢ CUTOP e-profi', article: '01-884', category: '–≠–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '190 ‚ÇΩ' },
          { order: 2, name: '–ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–´–ô –û–¢–†–ï–ó–ù–û–ô –ê–õ–ú–ê–ó–ù–´–ô –î–ò–°–ö CUTOP', article: '73-419', category: '–ê–±—Ä–∞–∑–∏–≤–Ω–æ-—à–ª–∏—Ñ–æ–≤–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '210 ‚ÇΩ' },
          { order: 3, name: '–ö–û–†–©–ï–¢–ö–ò –†–£–ß–ù–´–ï CUTOP profi', article: '82-547', category: '–ê–±—Ä–∞–∑–∏–≤–Ω–æ-—à–ª–∏—Ñ–æ–≤–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '990 ‚ÇΩ' },
          { order: 4, name: '–ù–ê–ë–û–† –ë–ò–¢ –í –ü–õ–ê–°–¢–ò–ö–û–í–û–ú –ë–û–ö–°–ï CUTOP profi', article: '83-869', category: '–°–ª–µ—Å–∞—Ä–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '1 590 ‚ÇΩ' }
        ]
      },
      {
        brandId: 'mos',
        displayName: 'MOS',
        navSubtitle: '–°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã',
        description:
          '–ë—Ä–µ–Ω–¥ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏ –±–∏–∑–Ω–µ—Å–∞ –≤ —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω–∏–∏ —Å–ø—Ä–æ—Å–∞ –Ω–∞ –ø—Ä–æ–¥—É–∫—Ü–∏—é –≤ –Ω–∏–∑–∫–æ–º —Ü–µ–Ω–æ–≤–æ–º —Å–µ–≥–º–µ–Ω—Ç–µ. MOS ‚Äî —Ä–∞–∑—É–º–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –¥–æ–º–∞ –∏ –º–∞—Å—Ç–µ—Ä—Å–∫–æ–π. –î–æ—Å—Ç—É–ø–Ω—ã–µ —Ä—É—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã —Ä–µ—à–∞—é—Ç –±–∞–∑–æ–≤—ã–µ –∑–∞–¥–∞—á–∏, —Å–æ—Ö—Ä–∞–Ω—è—è –¥–æ—Å—Ç–æ–π–Ω–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –±–µ–∑ –ø–µ—Ä–µ–ø–ª–∞—Ç.',
        primaryColor: '#00AEEF',
        buttonTextColor: '#FFFFFF',
        parallaxBgColor: '#00AEEF',
        parallaxFgColor: '#FFFFFF',
        catalogB2cUrl: defaultCatalogB2cUrl,
        catalogB2bUrl: defaultCatalogB2bUrl,
        popularProducts: [
          { order: 1, name: '–ö–ò–°–¢–¨ –§–õ–ï–ô–¶–ï–í–ê–Ø MOS', article: '00701', category: '–û—Ç–¥–µ–ª–æ—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '1 990 ‚ÇΩ' },
          { order: 2, name: '–†–£–õ–ï–¢–ö–ê MOS', article: '16983', category: '–ò–∑–º–µ—Ä–∏—Ç–µ–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '499 ‚ÇΩ' },
          { order: 3, name: '–î–ò–°–ö –û–¢–†–ï–ó–ù–û–ô –ê–õ–ú–ê–ó–ù–´–ô MOS', article: '37201', category: '–ê–±—Ä–∞–∑–∏–≤–Ω–æ-—à–ª–∏—Ñ–æ–≤–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '690 ‚ÇΩ' },
          { order: 4, name: '–ö–õ–Æ–ß –†–ê–ó–í–û–î–ù–û–ô MOS', article: '70091', category: '–°–∞–Ω—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '890 ‚ÇΩ' }
        ]
      },
      {
        brandId: 'mastercolor',
        displayName: 'MASTER COLOR',
        navSubtitle: '–õ–ö–ú',
        description:
          'Master Color - –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –±—Ä–µ–Ω–¥ —Ç–æ–≤–∞—Ä–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ¬´–º–∞–ª—è—Ä–Ω–æ-—à—Ç—É–∫–∞—Ç—É—Ä–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç¬ª. –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π –∏ –±—ã—Ç–æ–≤–æ–π –æ—Ç–¥–µ–ª–∫–∏: –æ—Ç –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–µ–π –¥–æ –Ω–∞–Ω–µ—Å–µ–Ω–∏—è –ø–æ–∫—Ä—ã—Ç–∏–π –∏ –∑–∞—â–∏—Ç—ã —Ä–∞–±–æ—á–µ–π –∑–æ–Ω—ã. –ö–∞–∂–¥—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç Master Color –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–µ–∑—É–ø—Ä–µ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ –≤—Å–µ—Ö —ç—Ç–∞–ø–∞—Ö —Ä–∞–±–æ—Ç.',
        primaryColor: '#0065A8',
        buttonTextColor: '#FFFFFF',
        parallaxBgColor: '#0065A8',
        parallaxFgColor: '#FFFFFF',
        catalogB2cUrl: defaultCatalogB2cUrl,
        catalogB2bUrl: defaultCatalogB2bUrl,
        popularProducts: [
          { order: 1, name: '–ö–ò–°–¢–¨ –§–õ–ï–ô–¶–ï–ô–ù–ê–Ø Master Color 25 –º–º', article: '30-0011', category: '–û—Ç–¥–µ–ª–æ—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '250 ‚ÇΩ' },
          { order: 2, name: '–†–û–õ–ò–ö Master Color 180–º–º', article: '30-0844', category: '–û—Ç–¥–µ–ª–æ—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '390 ‚ÇΩ' },
          { order: 3, name: '–ú–ê–õ–Ø–†–ù–ê–Ø –õ–ï–ù–¢–ê Master Color', article: '30-6412', category: '–û—Ç–¥–µ–ª–æ—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '290 ‚ÇΩ' },
          { order: 4, name: '–ü–†–û–§–ï–°–°–ò–û–ù–ê–õ–¨–ù–ê–Ø –†–ê–ë–û–ß–ê–Ø –û–î–ï–ñ–î–ê Master Color', article: '30-8042', category: '–û—Ç–¥–µ–ª–æ—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '990 ‚ÇΩ' }
        ]
      },
      {
        brandId: 'kypc',
        displayName: '–ö–£–†–°',
        navSubtitle: '–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç',
        description:
          '–†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –¥–ª—è –∑–∞–Ω—è—Ç–∏—è –Ω–∏—à–∏ —Å—Ä–µ–¥–Ω–µ–≥–æ —Ü–µ–Ω–æ–≤–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞.–ö–£–†–° ‚Äî –ø—Ä–∞–∫—Ç–∏—á–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω—ã—Ö –∑–∞–¥–∞—á. –†—É—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã, –æ—Å–Ω–∞—Å—Ç–∫–∞ –∏ —Ö–æ–∑—è–π—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã —Å–æ—á–µ—Ç–∞—é—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å, –ø–æ–º–æ–≥–∞—è —Å–ø—Ä–∞–≤–ª—è—Ç—å—Å—è —Å —Ä–µ–º–æ–Ω—Ç–æ–º –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ–º –¥–æ–º–∞.',
        primaryColor: '#D81515',
        buttonTextColor: '#FFFFFF',
        parallaxBgColor: '#D81515',
        parallaxFgColor: '#FFFFFF',
        catalogB2cUrl: defaultCatalogB2cUrl,
        catalogB2bUrl: defaultCatalogB2bUrl,
        popularProducts: [
          { order: 1, name: '–¢–∞—á–∫–∞ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω–∞—è –ö–£–†–°', article: '77607', category: '–°–∞–¥–æ–≤—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '3 590 ‚ÇΩ' },
          { order: 2, name: '–ö–∏—Å—Ç—å –û–ü–¢–ò–ú–ê', article: '00811', category: '–û—Ç–¥–µ–ª–æ—á–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '2 790 ‚ÇΩ' },
          { order: 3, name: '–ì–≤–æ–∑–¥–æ–¥–µ—Ä —Å –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Ä—É—á–∫–æ–ô –ö–£–†–°', article: '46913', category: '–°—Ç–æ–ª—è—Ä–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '4 190 ‚ÇΩ' },
          { order: 4, name: '–ö–∏—è–Ω–∫–∞ —Ä–µ–∑–∏–Ω–æ–≤–∞—è –ö–£–†–°', article: '45390', category: '–°—Ç–æ–ª—è—Ä–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '3 290 ‚ÇΩ' }
        ]
      },
      {
        brandId: 'xbat',
        displayName: '–•–í–ê–¢',
        navSubtitle: '–ö—Ä–µ–ø–µ–∂ –∏ –º–µ—Ç–∏–∑—ã',
        description:
          '–ë—Ä–µ–Ω–¥ —Å –≥–æ–≤–æ—Ä—è—â–∏–º –Ω–∞–∑–≤–∞–Ω–∏–µ–º! –•–í–ê–¢ - —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –±—Ä–µ–Ω–¥, –∫–æ—Ç–æ—Ä—ã–π —Ñ–æ–∫—É—Å–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —É–∑–∫–æ–º —Å–µ–≥–º–µ–Ω—Ç–µ —Ä—ã–Ω–∫–∞ - –∫—Ä–µ–ø—ë–∂ –∏ —Å–æ–ø—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–æ–≤–∞—Ä—ã –¥–ª—è –±—ã—Ç–æ–≤–æ–≥–æ –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è. –ü—Ä–æ—á–Ω—ã–µ, —É—Å—Ç–æ–π—á–∏–≤—ã–µ –∫ –Ω–∞–≥—Ä—É–∑–∫–∞–º –∏ –¥–æ–ª–≥–æ–≤–µ—á–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ–π —Ñ–∏–∫—Å–∞—Ü–∏–∏, –∫—Ä–µ–ø–ª–µ–Ω–∏—è –∏ —ç–Ω–µ—Ä–≥–æ—Å–Ω–∞–±–∂–µ–Ω–∏—è.',
        primaryColor: '#1A1A1A',
        buttonTextColor: '#FFFFFF',
        parallaxBgColor: '#1A1A1A',
        parallaxFgColor: '#FFFFFF',
        catalogB2cUrl: defaultCatalogB2cUrl,
        catalogB2bUrl: defaultCatalogB2bUrl,
        popularProducts: [
          { order: 1, name: '–†–ï–ú–ï–ù–¨ –ë–ê–ì–ê–ñ–ù–´–ô –•–í–ê–¢', article: '77-253', category: '–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã–π', price: '149 ‚ÇΩ' },
          { order: 2, name: '–ù–ê–ë–û–† –ö–†–ï–ü–ï–ñ–ê –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–´–ô –•–í–ê–¢', article: '20000', category: '–ö—Ä–µ–ø–µ–∂ –∏ –∫—Ä–µ–ø–µ–∂–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', price: '189 ‚ÇΩ' },
          { order: 3, name: '–ê–ù–ö–ï–†–ù–´–ô –ë–û–õ–¢ –° –ü–û–õ–ù–´–ú –ö–†–Æ–ö–û–ú –•–í–ê–¢', article: '26654', category: '–ö—Ä–µ–ø—ë–∂', price: '590 ‚ÇΩ' },
          { order: 4, name: '–ì–ï–ù–ï–†–ê–¢–û–† –î–ò–ó–ï–õ–¨–ù–´–ô –•–í–ê–¢', article: 'KM7500DE', category: '–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä', price: '249 ‚ÇΩ' }
        ]
      }
    ]

    try {
      const existingBrands = await strapi.documents(brandUID).findMany({ status: 'all', populate: '*' })
      const byId = new Map<string, any>((existingBrands || []).map((b: any) => [String(b.brandId), b]))

      const toCatalogCategories = (categoriesObj: any) => {
        if (!categoriesObj || typeof categoriesObj !== 'object' || Array.isArray(categoriesObj)) return []
        const level1Keys = Object.keys(categoriesObj)
        return level1Keys.map((catTitle, catIndex) => {
          const level2 = categoriesObj?.[catTitle] || {}
          const subKeys = level2 && typeof level2 === 'object' && !Array.isArray(level2) ? Object.keys(level2) : []
          const subcategories = subKeys.map((subTitle, subIndex) => {
            const items = Array.isArray(level2?.[subTitle]) ? level2[subTitle] : []
            const types = items.map((t: any, tIndex: number) => ({
              order: tIndex + 1,
              title: String(t || '').trim(),
            })).filter((t: any) => t.title.length > 0)
            return {
              order: subIndex + 1,
              title: String(subTitle || '').trim(),
              types,
            }
          }).filter((s: any) => s.title.length > 0)
          return {
            order: catIndex + 1,
            title: String(catTitle || '').trim(),
            subcategories,
          }
        }).filter((c: any) => c.title.length > 0)
      }

      for (const seed of brandSeed) {
        const current = byId.get(seed.brandId) || null
        const catalogFromTs = getBrandCatalogData(seed.brandId)?.categories ?? null
        const catalogCategoriesFromTs = catalogFromTs ? toCatalogCategories(catalogFromTs) : null

        const getBrandImageDirName = (brandId: string): string => {
          // Frontend folders in /public/img
          const map: Record<string, string> = {
            mastercolor: 'mc',
            kypc: 'kurs',
            xbat: 'xbat',
          }
          return map[brandId] || brandId
        }

        const findLocalProductImage = (brandId: string, article: string): string | null => {
          const safeArticle = String(article || '').trim()
          if (!safeArticle) return null

          const brandDir = getBrandImageDirName(brandId)
          const candidateNames = [
            `${safeArticle}.webp`,
            `${safeArticle}.png`,
            `${safeArticle}.jpg`,
            `${safeArticle}.jpeg`,
          ]

          const roots = [
            // Docker: mounted by docker-compose.cms.yml
            path.join(path.sep, 'srv', 'site-img'),
            // Local run (cms folder in repo root)
            path.join(process.cwd(), '..', 'public', 'img'),
            // In case cwd is repo root
            path.join(process.cwd(), 'public', 'img'),
          ]

          for (const root of roots) {
            try {
              const dir = path.join(root, brandDir)
              if (!fs.existsSync(dir)) continue

              for (const name of candidateNames) {
                const p = path.join(dir, name)
                if (fs.existsSync(p)) return p
              }

              // Fallback: find any file that starts with article (e.g. "73-419-02 (2).webp")
              const files = fs.readdirSync(dir)
              const match = files.find((f) => f.startsWith(safeArticle + '.')) || files.find((f) => f.startsWith(safeArticle))
              if (match) return path.join(dir, match)
            } catch {
              // ignore
            }
          }
          return null
        }

        const mimeFromExt = (ext: string): string => {
          const e = ext.toLowerCase()
          if (e === '.webp') return 'image/webp'
          if (e === '.png') return 'image/png'
          if (e === '.jpg' || e === '.jpeg') return 'image/jpeg'
          if (e === '.svg') return 'image/svg+xml'
          return 'application/octet-stream'
        }

        const findLocalBrandLogo = (brandId: string): { path: string; originalName: string } | null => {
          // Prefer the same SVGs the frontend uses (repo /public/logo/**).
          const fileByBrandId: Record<string, string> = {
            fit: 'fit-logo-clean.svg',
            cutop: path.join('brands', 'Cutop-CMYK.svg'),
            mos: path.join('brands', 'MOS-CMYK.svg'),
            mastercolor: path.join('brands', 'Master_Color_logo-1.svg'),
            kypc: path.join('brands', 'Kurs-CMYK.svg'),
            xbat: path.join('brands', 'Xbat-CMYK.svg'),
          }

          const rel = fileByBrandId[brandId]
          if (!rel) return null

          const candidates = [
            // Docker: mounted by docker-compose.cms.yml
            path.join(path.sep, 'srv', 'site-logo', rel),
            // Local run (cms folder in repo root)
            path.join(process.cwd(), '..', 'public', 'logo', rel),
            // In case cwd is repo root
            path.join(process.cwd(), 'public', 'logo', rel),
          ]
          for (const p of candidates) {
            try {
              if (fs.existsSync(p)) return { path: p, originalName: path.basename(p) }
            } catch {
              // ignore
            }
          }
          return null
        }

        const ensurePopularProductsImages = async (doc: any) => {
          try {
            const curProducts = Array.isArray(doc?.popularProducts) ? doc.popularProducts : []
            if (curProducts.length === 0) return

            let changed = false
            const nextProducts = []

            for (const p of curProducts) {
              const hasImage = Boolean(p?.image) || Boolean(p?.image?.id) || Boolean(p?.image?.data?.id)
              const article = String(p?.article ?? '').trim()
              if (hasImage || !article) {
                nextProducts.push(p)
                continue
              }

              const localPath = findLocalProductImage(seed.brandId, article)
              if (!localPath) {
                nextProducts.push(p)
                continue
              }

              const parsed = path.parse(localPath)
              const baseName = `brand-${seed.brandId}-${article}` // Strapi usually stores `name` without extension

              // 1) Find already uploaded file by name
              const existingFile = await strapi.db.query('plugin::upload.file').findOne({
                where: { name: baseName },
              })

              let fileId = existingFile?.id
              if (!fileId) {
                // 2) Upload file
                const stats = fs.statSync(localPath)
                const mime = mimeFromExt(parsed.ext)
                const fileData = {
                  path: localPath,
                  filepath: localPath,
                  tmpPath: localPath,
                  name: `${baseName}${parsed.ext}`,
                  originalFilename: `${baseName}${parsed.ext}`,
                  type: mime,
                  mimetype: mime,
                  size: stats.size,
                }

                const uploadedFiles = await strapi.plugin('upload').service('upload').upload({
                  data: {},
                  files: [fileData],
                })

                if (Array.isArray(uploadedFiles) && uploadedFiles.length > 0) {
                  fileId = uploadedFiles[0].id
                } else if (uploadedFiles && (uploadedFiles as any).id) {
                  fileId = (uploadedFiles as any).id
                }
              }

              if (fileId) {
                changed = true
                nextProducts.push({ ...p, image: fileId })
              } else {
                nextProducts.push(p)
              }
            }

            if (changed) {
              await strapi.documents(brandUID).update({
                documentId: doc.documentId,
                data: { popularProducts: nextProducts },
                status: 'published',
              })
            }
          } catch (e) {
            // eslint-disable-next-line no-console
            console.warn('Popular products image linking skipped:', (e as any)?.message || e)
          }
        }

        const ensureBrandLogo = async (doc: any) => {
          try {
            const hasLogo = Boolean(doc?.logo) || Boolean(doc?.logo?.id) || Boolean(doc?.logo?.data?.id)
            if (hasLogo) return

            const local = findLocalBrandLogo(seed.brandId)
            if (!local) return

            const parsed = path.parse(local.path)
            const baseName = `brand-logo-${seed.brandId}` // Strapi stores `name` without extension for most providers

            // 1) Find already uploaded file by our deterministic name
            const existingFile =
              (await strapi.db.query('plugin::upload.file').findOne({ where: { name: baseName } })) ||
              // 2) Fallback: maybe uploaded under original filename (without extension)
              (await strapi.db.query('plugin::upload.file').findOne({ where: { name: parsed.name } }))

            let fileId = existingFile?.id
            if (!fileId) {
              const stats = fs.statSync(local.path)
              const mime = mimeFromExt(parsed.ext)
              const fileData = {
                path: local.path,
                filepath: local.path,
                tmpPath: local.path,
                name: `${baseName}${parsed.ext}`,
                originalFilename: `${baseName}${parsed.ext}`,
                type: mime,
                mimetype: mime,
                size: stats.size,
              }

              const uploadedFiles = await strapi.plugin('upload').service('upload').upload({
                data: {},
                files: [fileData],
              })

              if (Array.isArray(uploadedFiles) && uploadedFiles.length > 0) {
                fileId = uploadedFiles[0].id
              } else if (uploadedFiles && (uploadedFiles as any).id) {
                fileId = (uploadedFiles as any).id
              }
            }

            if (fileId) {
              // Link logo and keep brand published (brands are public content)
              await strapi.documents(brandUID).update({
                documentId: doc.documentId,
                data: { logo: fileId },
                status: 'published',
              })
            }
          } catch (e) {
            // eslint-disable-next-line no-console
            console.warn('Brand logo linking skipped:', (e as any)?.message || e)
          }
        }

        if (!current) {
          const created = await strapi.documents(brandUID).create({
            data: {
              ...seed,
              ...(catalogCategoriesFromTs ? { catalogCategories: catalogCategoriesFromTs } : {}),
              publishedAt: new Date(),
            },
            status: 'published',
          })
          await ensurePopularProductsImages(created)
          await ensureBrandLogo(created)
        } else {
          const patch: any = {}
          for (const [key, value] of Object.entries(seed)) {
            const cur = (current as any)[key]
            const isEmpty =
              cur == null ||
              (typeof cur === 'string' && cur.trim().length === 0) ||
              (Array.isArray(cur) && cur.length === 0) ||
              (typeof cur === 'object' && !Array.isArray(cur) && Object.keys(cur || {}).length === 0)
            if (isEmpty) patch[key] = value
          }
          if (
            catalogCategoriesFromTs &&
            (!Array.isArray(current.catalogCategories) || current.catalogCategories.length === 0)
          ) {
            patch.catalogCategories = catalogCategoriesFromTs
          }
          if (Object.keys(patch).length > 0) {
            await strapi.documents(brandUID).update({
              documentId: current.documentId,
              data: patch,
              status: 'published',
            })
            const refreshed = await strapi.documents(brandUID).findOne({ documentId: current.documentId, status: 'all', populate: '*' })
            await ensurePopularProductsImages(refreshed)
            await ensureBrandLogo(refreshed)
          } else if (!current.publishedAt) {
            await strapi.documents(brandUID).publish({ documentId: current.documentId })
            const refreshed = await strapi.documents(brandUID).findOne({ documentId: current.documentId, status: 'all', populate: '*' })
            await ensurePopularProductsImages(refreshed)
            await ensureBrandLogo(refreshed)
          } else {
            const refreshed = await strapi.documents(brandUID).findOne({ documentId: current.documentId, status: 'all', populate: '*' })
            await ensurePopularProductsImages(refreshed)
            await ensureBrandLogo(refreshed)
          }
        }
      }
    } catch (e) {
      // eslint-disable-next-line no-console
      console.warn('Brands seeding skipped:', (e as any)?.message || e)
    }

    // --- MARKETING ACTIVITY PAGE SEEDING ---
    const maUID = 'api::marketing-activity-page.marketing-activity-page';
    const maData = {
      title: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å',
      heroTitle: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å',
      heroSubtitle: [
        makeParagraph(
          'FIT –ø–æ–º–æ–≥–∞–µ—Ç –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º —É—Å–∏–ª–∏–≤–∞—Ç—å –ø—Ä–æ–¥–∞–∂–∏: –≥–æ—Ç–æ–≤–∏–º –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –ø—Ä–æ–º–æ-–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å –±—Ä–µ–Ω–¥–æ–≤ –≤ –æ—Ñ–ª–∞–π–Ω–µ –∏ –æ–Ω–ª–∞–π–Ω–µ.'
        ),
      ],
      sections: [
        {
          order: 1,
          layout: 'textLeft',
          title: '–ú–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è –ø—Ä–æ–¥–∞–∂',
          content: [
            makeParagraph(
              '–ì–æ—Ç–æ–≤–∏–º –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º –ø—Ä–æ–¥–∞–≤–∞—Ç—å –±—ã—Å—Ç—Ä–µ–µ: POSM, –±–∞–Ω–Ω–µ—Ä—ã, –∫–∞—Ä—Ç–æ—á–∫–∏ —Ç–æ–≤–∞—Ä–∞, –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.'
            ),
            { type: 'list', format: 'unordered', children: [
              { type: 'list-item', children: [{ type: 'text', text: 'POS-–º–∞—Ç–µ—Ä–∏–∞–ª—ã –¥–ª—è —Ç–æ—Ä–≥–æ–≤–æ–≥–æ –∑–∞–ª–∞' }] },
              { type: 'list-item', children: [{ type: 'text', text: '–®–∞–±–ª–æ–Ω—ã –¥–ª—è e-commerce' }] },
              { type: 'list-item', children: [{ type: 'text', text: '–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –≥–∞–π–¥—ã –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤' }] },
            ]},
          ],
        },
        {
          order: 2,
          layout: 'textRight',
          title: '–ü—Ä–æ–º–æ –∏ –∞–∫—Ü–∏–∏',
          content: [
            makeParagraph(
              '–ü–ª–∞–Ω–∏—Ä—É–µ–º –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –ø—Ä–æ–º–æ-–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏: —Å–µ–∑–æ–Ω–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è, –Ω–æ–≤–∏–Ω–∫–∏, —Å–ø–µ—Ü—É—Å–ª–æ–≤–∏—è –∏ –º–µ—Ö–∞–Ω–∏–∫–∏ –¥–ª—è —Ä–æ—Å—Ç–∞ –ø—Ä–æ–¥–∞–∂.'
            ),
            { type: 'list', format: 'unordered', children: [
              { type: 'list-item', children: [{ type: 'text', text: '–°–µ–∑–æ–Ω–Ω—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏' }] },
              { type: 'list-item', children: [{ type: 'text', text: '–ê–∫—Ü–∏–∏ –ø–æ–¥ —Ç–æ–≤–∞—Ä–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏' }] },
              { type: 'list-item', children: [{ type: 'text', text: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∑–∞–ø—É—Å–∫–∞ –Ω–æ–≤–∏–Ω–æ–∫' }] },
            ]},
          ],
        },
        {
          order: 3,
          layout: 'textLeft',
          title: '–ú–µ—Ä—á–∞–Ω–¥–∞–π–∑–∏–Ω–≥ –∏ –≤—ã–∫–ª–∞–¥–∫–∞',
          content: [
            makeParagraph(
              '–ü–æ–º–æ–≥–∞–µ–º —Å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ–º –∏ –≤—ã–∫–ª–∞–¥–∫–æ–π: —Å—Ç–µ–Ω–¥—ã, –Ω–∞–≤–∏–≥–∞—Ü–∏—è, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø–æ–ª–∫–µ –∏ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã.'
            ),
            { type: 'list', format: 'unordered', children: [
              { type: 'list-item', children: [{ type: 'text', text: '–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤—ã–∫–ª–∞–¥–∫–µ' }] },
              { type: 'list-item', children: [{ type: 'text', text: '–ì–æ—Ç–æ–≤—ã–µ —Å—Ç–µ–Ω–¥—ã/–æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ' }] },
              { type: 'list-item', children: [{ type: 'text', text: '–ï–¥–∏–Ω—ã–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –≤–∏–∑—É–∞–ª–∞' }] },
            ]},
          ],
        },
      ],
      ctaTitle: '–ù—É–∂–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥—É?',
      ctaText: [makeParagraph('–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º ‚Äî –ø—Ä–µ–¥–ª–æ–∂–∏–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è –∏ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ–¥ –≤–∞—à—É –∑–∞–¥–∞—á—É.')],
      ctaButtonText: '–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏',
      ctaButtonUrl: '/contacts',
      seoTitle: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ‚Äî FIT',
      seoDescription: '–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ FIT: –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –ø—Ä–æ–º–æ –∏ –º–µ—Ä—á–∞–Ω–¥–∞–π–∑–∏–Ω–≥.',
    };

    try {
      const existing = await strapi.documents(maUID).findMany({ status: 'all', populate: '*' });
      const score = (doc: any) => {
        const updatedAt = Date.parse(doc?.updatedAt || '') || 0;
        const hasHero = typeof doc?.heroTitle === 'string' && doc.heroTitle.trim().length > 0;
        const hasSections = Array.isArray(doc?.sections) && doc.sections.length > 0;
        return updatedAt + (hasHero ? 1000000000 : 0) + (hasSections ? 1000000000 : 0);
      };
      const current = (existing || []).slice().sort((a: any, b: any) => score(b) - score(a))[0] || null;

      if (!current) {
        await strapi.documents(maUID).create({ data: { ...maData, publishedAt: new Date() }, status: 'published' });
      } else {
        const patch: any = {};
        if (!current.title || (typeof current.title === 'string' && current.title.trim().length === 0)) patch.title = maData.title;
        if (!current.heroTitle || (typeof current.heroTitle === 'string' && current.heroTitle.trim().length === 0)) patch.heroTitle = maData.heroTitle;
        if (!Array.isArray(current.heroSubtitle) || current.heroSubtitle.length === 0) patch.heroSubtitle = maData.heroSubtitle;
        if (!Array.isArray(current.sections) || current.sections.length === 0) patch.sections = maData.sections;
        if (!current.ctaTitle || (typeof current.ctaTitle === 'string' && current.ctaTitle.trim().length === 0)) patch.ctaTitle = maData.ctaTitle;
        if (!Array.isArray(current.ctaText) || current.ctaText.length === 0) patch.ctaText = maData.ctaText;
        if (!current.ctaButtonText || (typeof current.ctaButtonText === 'string' && current.ctaButtonText.trim().length === 0)) patch.ctaButtonText = maData.ctaButtonText;
        if (!current.ctaButtonUrl || (typeof current.ctaButtonUrl === 'string' && current.ctaButtonUrl.trim().length === 0)) patch.ctaButtonUrl = maData.ctaButtonUrl;
        if (Object.keys(patch).length > 0) {
          await strapi.documents(maUID).update({ documentId: current.documentId, data: patch, status: 'published' });
        } else if (!current.publishedAt) {
          await strapi.documents(maUID).update({
            documentId: current.documentId,
            data: { publishedAt: new Date(), title: current.title || maData.title },
            status: 'published',
          });
        }
      }
    } catch (e) {
      // eslint-disable-next-line no-console
      console.warn('Marketing activity seeding skipped:', (e as any)?.message || e);
    }

    // --- PARTNER LOGOS SEEDING ---
    const seedPartners = [
      { name: '21 –í–µ–∫', file: '21vek (1).svg' },
      { name: 'Aqualine', file: 'AQUALINE-Photoroom.svg' },
      { name: '–ë–∞—É—Ü–µ–Ω—Ç—Ä', file: '–ë–∞—É—Ü–µ–Ω—Ç—Ä-Photoroom.svg' },
      { name: '–ë–∏–≥–∞–º', file: '–ë–∏–≥–∞–º-Photoroom.svg' },
      { name: 'B2B', file: '–í2B-Photoroom.svg' },
      { name: '–í–∏–º–æ—Å', file: '–í–∏–º–æ—Å-Photoroom.svg' },
      { name: '–í–∏—Ä–∞–∂', file: '–í–∏—Ä–∞–∂.svg' },
      { name: '–í—Å–µ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã', file: '–í—Å–µ–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.svg' },
      { name: '–ì–∞—Ä–≤–∏–Ω –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç', file: '–ì–∞—Ä–≤–∏–Ω –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç.svg' },
      { name: '–ì–ª–∞–≤—Ç–æ—Ä–≥24', file: '–ì–ª–∞–≤—Ç–æ—Ä–≥24-Photoroom.svg' },
      { name: '–î–æ–±—Ä–æ—Å—Ç—Ä–æ–π', file: '–î–æ–±—Ä–æ—Å—Ç—Ä–æ–π.svg' },
      { name: '–ö–æ–º—É—Å', file: '–ö–æ–º—É—Å-Photoroom.svg' },
      { name: '–ö—É–≤–∞–ª–¥–∞.—Ä—É', file: '–ö—É–≤–∞–ª–¥–∞—Ä—É-Photoroom.svg' },
      { name: '–õ–µ–º–∞–Ω–∞ –ü—Ä–æ', file: '–ª–µ–º–∞–Ω–∞ –ø—Ä–æ.svg' },
      { name: '–ú–∞—Ç–µ—Ä–∏–∫', file: '–ú–∞—Ç–µ—Ä–∏–∫-Photoroom.svg' },
      { name: '–ú–µ–≥–∞–ø–æ–ª–∏—Å', file: '–ú–µ–≥–∞–ø–æ–ª–∏—Å.svg' },
      { name: '–ú–µ—Ç–∏–∑—ã', file: '–ú–µ—Ç–∏–∑—ã (1).svg' },
      { name: '–û–±–æ–π–∫–∏–Ω', file: '–æ–±–æ–π–∫–∏–Ω-Photoroom.svg' },
      { name: '–ü–µ—Ç—Ä–æ–≤–∏—á', file: '–ü–µ—Ç–æ–≤–∏—á.svg' },
      { name: '–ü—Ä–æ–º–º–µ—Ç–∏–∑', file: '–ü—Ä–æ–º–º–µ—Ç–∏–∑.svg' },
      { name: '–†—É—Å—Å–∫–∏–π –°–≤–µ—Ç', file: '–†—É—Å—Å–∫–∏–π —Å–≤–µ—Ç (1).svg' },
      { name: '–°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –î–≤–æ—Ä', file: '—Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–π –¥–≤–æ—Ä.svg' },
      { name: '–¢–ú–ö', file: '–¢–ú–ö-Photoroom.svg' },
      { name: '–¢–æ—Ä–≥–æ–≤—ã–π –¥–æ–º –í–ò–ö', file: '–¢–æ—Ä–≥–æ–≤—ã–π –¥–æ–º –í–ò–ö-Photoroom.svg' },
      { name: '–¢–æ—Ä–≥–æ–≤—ã–π –¥–æ–º –ö–∞—Ä–∞—Ç', file: '–¢–æ—Ä–≥–æ–≤—ã–π –¥–æ–º –ö–∞—Ä–∞—Ç-Photoroom.svg' },
      { name: '–§–æ—Ä–º—É–ª–∞ –ú2', file: '–§–æ—Ä–º—É–ª–∞ –ú2-Photoroom.svg' },
      { name: '–ß–∏–ø–∏–ø', file: '—á–∏–ø–∏–ø.svg' },
      { name: '–≠–ö–¢–û', file: '–≠–ö–¢–û-Photoroom.svg' },
      { name: '–≠–ª–µ–∫—Ç—Ä–æ–Ω', file: '–≠–ª–µ–∫—Ç—Ä–æ–Ω-Photoroom.svg' },
      { name: '–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞', file: '–≠–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫–∞-Photoroom.svg' },
      { name: '–≠–ª–µ–∫—Ç—Ä–æ—Ü–µ–Ω—Ç—Ä', file: '–≠–ª–µ–∫—Ç—Ä–æ—Ü–µ–Ω—Ç—Ä-Photoroom.svg' },
      { name: '–Æ–≥-–°–≤–µ—Ç', file: '–Æ–≥-–°–≤–µ—Ç-Photoroom.svg' },
      { name: '–Ø–Ω–¥–µ–∫—Å –ú–∞—Ä–∫–µ—Ç', file: '—è–Ω–¥–µ–∫—Å –º–∞—Ä–∫–µ—Ç.svg' },
      { name: 'Aliexpress', file: 'ALIEXPRESS.svg' },
      { name: 'Ozon', file: 'OZON-Photoroom.svg' },
      { name: 'Wildberries', file: 'Wildberries.svg' },
    ]

    for (const { name, file } of seedPartners) {
      const migrationPath = path.join(process.cwd(), 'partners_migration', file)

      const existing = await strapi.db.query('api::partner-logo.partner-logo').findOne({
        where: { name },
      })

      let partnerId;
      if (!existing) {
        // Do not create "empty" partner records without an actual logo file to attach.
        // Otherwise the admin list shows "-" in the logo column and causes confusion.
        if (!fs.existsSync(migrationPath)) {
          // eslint-disable-next-line no-console
          console.warn(`Partner logo seed skipped (missing file): ${name} -> ${file}`)
          continue
        }

        const created = await strapi.entityService.create('api::partner-logo.partner-logo', {
          data: { name, publishedAt: new Date() },
        })
        partnerId = created.id;
      } else {
        partnerId = existing.id;
      }

      // Handle logo migration if missing
      if (partnerId) {
        const partner = await strapi.entityService.findOne('api::partner-logo.partner-logo', partnerId, {
          populate: ['logo'],
        })

        if (!partner.logo) {
          try {
            if (fs.existsSync(migrationPath)) {
              // 1. Check if file already in media library
              const existingFile = await strapi.db.query('plugin::upload.file').findOne({
                // Strapi stores `name` without extension for most providers.
                where: { name: path.parse(file).name },
              })

              let fileId = existingFile?.id
              if (!fileId) {
                // 2. Upload if not exists
                const stats = fs.statSync(migrationPath)
                const fileData = {
                  path: migrationPath,
                  filepath: migrationPath,
                  tmpPath: migrationPath,
                  name: file,
                  originalFilename: file,
                  type: file.endsWith('.svg') ? 'image/svg+xml' : 'image/png',
                  mimetype: file.endsWith('.svg') ? 'image/svg+xml' : 'image/png',
                  size: stats.size,
                }

                const uploadedFiles = await strapi.plugin('upload').service('upload').upload({
                  data: {}, 
                  files: [fileData],
                })
                if (Array.isArray(uploadedFiles) && uploadedFiles.length > 0) {
                  fileId = uploadedFiles[0].id
                } else if (uploadedFiles && (uploadedFiles as any).id) {
                  fileId = (uploadedFiles as any).id
                }
              }

              // 3. Link to partner
              if (fileId) {
                await strapi.entityService.update('api::partner-logo.partner-logo', partnerId, {
                  data: { logo: fileId },
                })
              }
            }
          } catch (e) {
            // eslint-disable-next-line no-console
            console.warn(`Failed to migrate logo for ${name} (${file}):`, e.message)
          }
        }
      }
    }

    // --- LABELS BOOTSTRAP ---
    const setContentManagerLabels = async (pluginName, uid, labels, listLayout: string[] | null = null) => {
      try {
        const store = strapi.store({
          type: 'plugin',
          name: pluginName,
          key: `configuration_content_types::${uid}`,
        })
        const existing = (await store.get()) || {}
        const nextMetas = { ...((existing && existing.metadatas) || {}) }
        for (const [field, label] of Object.entries(labels)) {
          nextMetas[field] = {
            ...(nextMetas[field] || {}),
            edit: { ...((nextMetas[field] && nextMetas[field].edit) || {}), label },
            list: { ...((nextMetas[field] && nextMetas[field].list) || {}), label },
          }
        }
        const nextLayouts = { ...(existing.layouts || {}) }
        if (listLayout) nextLayouts.list = listLayout
        await store.set({ value: { ...existing, metadatas: nextMetas, layouts: nextLayouts } })
      } catch (e) {
        // eslint-disable-next-line no-console
        console.warn('Content Manager labels bootstrap skipped:', e?.message || e)
      }
    }

    const logLabels = {
      title: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ (—Å—Ç—Ä–∞–Ω–∏—Ü–∞)', subtitle: '–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ (—Å—Ç—Ä–∞–Ω–∏—Ü–∞)',
      heroBadge: '–ë–µ–π–¥–∂ (Hero)', heroTitle: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ (Hero)', heroTitleHighlight: '–ü–æ–¥—Å–≤–µ—Ç–∫–∞ (Hero)', heroSubtitle: '–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ (Hero)', heroStats: '–¶–∏—Ñ—Ä—ã (Hero)',
      warehouseSectionTitle: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ (–°–∫–ª–∞–¥)', warehouseSectionContent: '–¢–µ–∫—Å—Ç (–°–∫–ª–∞–¥)', warehouseSectionImage: '–ö–∞—Ä—Ç–∏–Ω–∫–∞ (–°–∫–ª–∞–¥)',
      distributionBadgeNew: '–ë–µ–π–¥–∂ NEW', distributionBadgeText: '–¢–µ–∫—Å—Ç –±–µ–π–¥–∂–∞', distributionTitle: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ (–ë–µ–ª—ã–π –†–∞—Å—Ç)', distributionTitleHighlight: '–ü–æ–¥—Å–≤–µ—Ç–∫–∞ (–ë–µ–ª—ã–π –†–∞—Å—Ç)', distributionDescription: '–û–ø–∏—Å–∞–Ω–∏–µ (–ë–µ–ª—ã–π –†–∞—Å—Ç)', distributionSpecs: '–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ (–ë–µ–ª—ã–π –†–∞—Å—Ç)', distributionFeatures: '–¢–µ–≥–∏ (–ë–µ–ª—ã–π –†–∞—Å—Ç)', distributionImage: '–ö–∞—Ä—Ç–∏–Ω–∫–∞ (–ë–µ–ª—ã–π –†–∞—Å—Ç)',
      wmsCards: '–ö–∞—Ä—Ç–æ—á–∫–∏ (WMS)', speedTitle: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ (–°–∫–æ—Ä–æ—Å—Ç—å)', speedDescription: '–û–ø–∏—Å–∞–Ω–∏–µ (–°–∫–æ—Ä–æ—Å—Ç—å)', warehouses: '–°–∫–ª–∞–¥—ã (–∫–∞—Ä—Ç–æ—á–∫–∏)',
      ctaTitle: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ CTA', ctaText: '–¢–µ–∫—Å—Ç CTA', ctaButtonText: '–ö–Ω–æ–ø–∫–∞ CTA', ctaButtonUrl: '–°—Å—ã–ª–∫–∞ CTA',
      seoTitle: 'SEO –∑–∞–≥–æ–ª–æ–≤–æ–∫', seoDescription: 'SEO –æ–ø–∏—Å–∞–Ω–∏–µ',
    };
    await setContentManagerLabels('content-manager', 'api::logistics-page.logistics-page', logLabels);
    await setContentManagerLabels('content_manager', 'api::logistics-page.logistics-page', logLabels);

    const hsLabelsFull = {
      title: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç—Ä–∞–Ω–∏—Ü—ã', subtitle: '–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫',
      heroBadge: '–ë–µ–π–¥–∂ (Hero)', heroImage: '–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (Hero)',
      identityTitle: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ (–ê–π–¥–µ–Ω—Ç–∏–∫–∞)', identityContent: '–¢–µ–∫—Å—Ç (–ê–π–¥–µ–Ω—Ç–∏–∫–∞)', identityImage: '–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–ê–π–¥–µ–Ω—Ç–∏–∫–∞)',
      packagingTitle: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ (–£–ø–∞–∫–æ–≤–∫–∞)', packagingIntro: '–í–≤–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç (–£–ø–∞–∫–æ–≤–∫–∞)', packagingCards: '–ö–∞—Ä—Ç–æ—á–∫–∏ (–£–ø–∞–∫–æ–≤–∫–∞)', packagingBrandsNote: '–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ –ø—Ä–æ –±—Ä–µ–Ω–¥—ã', packagingImage: '–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–£–ø–∞–∫–æ–≤–∫–∞)',
      honestSignTitle: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ (–ß–µ—Å—Ç–Ω—ã–π –∑–Ω–∞–∫)', honestSignContent: '–û–ø–∏—Å–∞–Ω–∏–µ (–ß–µ—Å—Ç–Ω—ã–π –∑–Ω–∞–∫)', honestSignListIntro: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å–ø–∏—Å–∫–∞ (–ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞)', honestSignBenefits: '–ü—É–Ω–∫—Ç—ã —Å–ø–∏—Å–∫–∞ (–ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞)', honestSignClosing: '–ó–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç (–ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞)', honestSignImage: '–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ (–ú–∞—Ä–∫–∏—Ä–æ–≤–∫–∞)',
      visualMaterialsTitle: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ (–ú–∞—Ç–µ—Ä–∏–∞–ª—ã)', visualMaterialsIntro: '–í–≤–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç (–ú–∞—Ç–µ—Ä–∏–∞–ª—ã)', visualMaterialsItems: '–ü—É–Ω–∫—Ç—ã —Å–ø–∏—Å–∫–∞ (–ú–∞—Ç–µ—Ä–∏–∞–ª—ã)', visualMaterialsClosing: '–ó–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç (–ú–∞—Ç–µ—Ä–∏–∞–ª—ã)', visualMaterialsGallery: '–ì–∞–ª–µ—Ä–µ—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π',
      finalTitle: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ (–§–∏–Ω–∞–ª)', finalText: '–¢–µ–∫—Å—Ç (–§–∏–Ω–∞–ª)',
      seoTitle: 'SEO –ó–∞–≥–æ–ª–æ–≤–æ–∫', seoDescription: 'SEO –û–ø–∏—Å–∞–Ω–∏–µ',
    };
    await setContentManagerLabels('content-manager', 'api::honest-sign-page.honest-sign-page', hsLabelsFull);
    await setContentManagerLabels('content_manager', 'api::honest-sign-page.honest-sign-page', hsLabelsFull);

    const partnerLabels = { name: '–ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞—Ä—Ç–Ω—ë—Ä–∞', logo: '–õ–æ–≥–æ—Ç–∏–ø', url: '–°—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–π—Ç', order: '–ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏' };
    const partnerList = ['name', 'logo', 'order', 'url'];
    await setContentManagerLabels('content-manager', 'api::partner-logo.partner-logo', partnerLabels, partnerList);
    await setContentManagerLabels('content_manager', 'api::partner-logo.partner-logo', partnerLabels, partnerList);

    const faqLabels = {
      question: '–í–æ–ø—Ä–æ—Å',
      answer: '–û—Ç–≤–µ—Ç',
      order: '–ü–æ—Ä—è–¥–æ–∫',
      category: '–ö–∞—Ç–µ–≥–æ—Ä–∏—è'
    };
    await setContentManagerLabels('content-manager', 'api::faq.faq', faqLabels);
    await setContentManagerLabels('content_manager', 'api::faq.faq', faqLabels);

    const articleLabels = {
      title: '–ó–∞–≥–æ–ª–æ–≤–æ–∫',
      slug: 'Slug (URL)',
      category: '–ö–∞—Ç–µ–≥–æ—Ä–∏—è',
      excerpt: '–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ',
      content: '–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ (–¢–µ–∫—Å—Ç)',
      coverImage: '–û–±–ª–æ–∂–∫–∞',
      publishedDate: '–î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏',
      gallery: '–ì–∞–ª–µ—Ä–µ—è'
    };
    await setContentManagerLabels('content-manager', 'api::product-article.product-article', articleLabels);
    await setContentManagerLabels('content_manager', 'api::product-article.product-article', articleLabels);

    const newsLabels = {
      title: '–ó–∞–≥–æ–ª–æ–≤–æ–∫',
      slug: 'Slug (URL)',
      excerpt: '–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ',
      content: '–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ (–¢–µ–∫—Å—Ç)',
      coverImage: '–û–±–ª–æ–∂–∫–∞',
      publishedDate: '–î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏',
      gallery: '–ì–∞–ª–µ—Ä–µ—è'
    };
    await setContentManagerLabels('content-manager', 'api::company-news-item.company-news-item', newsLabels);
    await setContentManagerLabels('content_manager', 'api::company-news-item.company-news-item', newsLabels);

    const homeLabels = {
      title: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ (—Å–∏—Å—Ç–µ–º–Ω–æ–µ)',
      clientServiceTitle: '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å ‚Äî –∑–∞–≥–æ–ª–æ–≤–æ–∫',
      clientServiceSubtitle: '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å ‚Äî –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫',
      clientServiceCards: '–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∏',
    };
    await setContentManagerLabels('content-manager', 'api::home-page.home-page', homeLabels);
    await setContentManagerLabels('content_manager', 'api::home-page.home-page', homeLabels);

    const branchLabels = {
      cityId: 'ID –≥–æ—Ä–æ–¥–∞ (cityId)',
      cityName: '–ì–æ—Ä–æ–¥',
      regionCode: '–ö–æ–¥ —Ä–µ–≥–∏–æ–Ω–∞',
      phone: '–¢–µ–ª–µ—Ñ–æ–Ω',
      email: 'Email',
      address: '–ê–¥—Ä–µ—Å',
      directorName: '–§–ò–û –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∞',
      directorTitle: '–î–æ–ª–∂–Ω–æ—Å—Ç—å',
      avatar: '–ê–≤–∞—Ç–∞—Ä',
      order: '–ü–æ—Ä—è–¥–æ–∫',
      isActive: '–ê–∫—Ç–∏–≤–µ–Ω',
    };
    const branchList = ['order', 'cityName', 'directorName', 'phone', 'email', 'isActive'];
    await setContentManagerLabels('content-manager', 'api::branch-contact.branch-contact', branchLabels, branchList);
    await setContentManagerLabels('content_manager', 'api::branch-contact.branch-contact', branchLabels, branchList);

    const maLabels = {
      title: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ (H1 –Ω–∞ —Å–∞–π—Ç–µ)',
      heroTitle: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ (Hero, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)',
      heroSubtitle: '–ü–æ–¥–∑–∞–≥–æ–ª–æ–≤–æ–∫ (Hero)',
      sections: '–°–µ–∫—Ü–∏–∏',
      ctaTitle: '–ó–∞–≥–æ–ª–æ–≤–æ–∫ CTA',
      ctaText: '–¢–µ–∫—Å—Ç CTA',
      ctaButtonText: '–ö–Ω–æ–ø–∫–∞ CTA ‚Äî —Ç–µ–∫—Å—Ç',
      ctaButtonUrl: '–ö–Ω–æ–ø–∫–∞ CTA ‚Äî —Å—Å—ã–ª–∫–∞',
      magazineTitle: '–ñ—É—Ä–Ω–∞–ª ‚Äî –∑–∞–≥–æ–ª–æ–≤–æ–∫ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)',
      magazinePdf: '–ñ—É—Ä–Ω–∞–ª ‚Äî PDF —Ñ–∞–π–ª (–∑–∞–≥—Ä—É–∑–∫–∞)',
      seoTitle: 'SEO –∑–∞–≥–æ–ª–æ–≤–æ–∫',
      seoDescription: 'SEO –æ–ø–∏—Å–∞–Ω–∏–µ',
      seoKeywords: 'SEO –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞',
      ogImage: 'OG –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ',
      canonicalUrl: 'Canonical URL'
    };
    await setContentManagerLabels('content-manager', 'api::marketing-activity-page.marketing-activity-page', maLabels);
    await setContentManagerLabels('content_manager', 'api::marketing-activity-page.marketing-activity-page', maLabels);

    const brandLabels = {
      brandId: 'ID –±—Ä–µ–Ω–¥–∞ (–¥–ª—è URL: /brands/[brandId])',
      displayName: '–ù–∞–∑–≤–∞–Ω–∏–µ –±—Ä–µ–Ω–¥–∞ (–Ω–∞ —Å–∞–π—Ç–µ)',
      navSubtitle: '–ö–æ—Ä–æ—Ç–∫–∞—è –ø–æ–¥–ø–∏—Å—å (–≤ –º–µ–Ω—é –±—Ä–µ–Ω–¥–æ–≤)',
      description: '–û–ø–∏—Å–∞–Ω–∏–µ (–Ω–∞ —Å–∞–π—Ç–µ)',
      logo: '–õ–æ–≥–æ—Ç–∏–ø',
      primaryColor: '–û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç (HEX)',
      buttonTextColor: '–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –∫–Ω–æ–ø–∫–∞—Ö (HEX, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)',
      parallaxBgColor: '–¶–≤–µ—Ç —Ñ–æ–Ω–∞ (HEX)',
      parallaxFgColor: '–¶–≤–µ—Ç –ø–µ—Ä–µ–¥–Ω–µ–≥–æ —Å–ª–æ—è (HEX)',
      catalogB2cUrl: '–ö–∞—Ç–∞–ª–æ–≥ –¥–ª—è —Ñ–∏–∑. –ª–∏—Ü (URL)',
      catalogB2bUrl: '–ö–∞—Ç–∞–ª–æ–≥ –¥–ª—è —é—Ä. –ª–∏—Ü (URL)',
      popularProducts: '–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç–æ–≤–∞—Ä—ã',
      catalogCategories: '–ö–∞—Ç–∞–ª–æ–≥ (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Üí –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Üí —Ç–∏–ø—ã)',
      catalog: '–ö–∞—Ç–∞–ª–æ–≥ (JSON, 3 —É—Ä–æ–≤–Ω—è)',
    }
    // Show logo in list view so editors immediately see what's missing.
    const brandList = ['brandId', 'logo', 'displayName', 'primaryColor', 'catalogB2cUrl', 'catalogB2bUrl']
    await setContentManagerLabels('content-manager', 'api::brand.brand', brandLabels, brandList)
    await setContentManagerLabels('content_manager', 'api::brand.brand', brandLabels, brandList)

    // Permissions
    try {
      const publicRole = await strapi.db.query('plugin::users-permissions.role').findOne({ where: { type: 'public' } });
      if (publicRole) {
        const uids = [
          'api::brand.brand',
          'api::partner-logo.partner-logo',
          'api::honest-sign-page.honest-sign-page',
          'api::logistics-page.logistics-page',
          'api::home-page.home-page',
          'api::branch-contact.branch-contact',
          'api::marketing-activity-page.marketing-activity-page',
          'api::faq.faq',
          'api::product-article.product-article',
          'api::company-news-item.company-news-item'
        ];
        for (const uid of uids) {
          for (const action of ['find', 'findOne']) {
            const permission = `${uid}.${action}`;
            const exists = await strapi.db.query('plugin::users-permissions.permission').findOne({ where: { role: publicRole.id, action: permission } });
            if (!exists) await strapi.db.query('plugin::users-permissions.permission').create({ data: { role: publicRole.id, action: permission } });
          }
        }
      }
    } catch (e) { /* silent */ }
  },
};
